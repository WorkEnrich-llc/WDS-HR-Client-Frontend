<!-- page header -->
<app-page-header
  [breadcrumbs]="[
    { label: 'Admin settings', link: '/settings' },
    { label: 'Job Board Setup' }
  ]"
  title="Job board setup"
  [create]="createdAt"
  [update]="updatedAt"
>
  @if (isGoogleCalendarConnected) {
  <button
    class="btn btn-lg btn-outline-dark d-flex align-items-center gap-2"
    (click)="openDisconnectConfirmation()"
    [disabled]="isDisconnectingGoogleCalendar"
  >
    @if (isDisconnectingGoogleCalendar) {
    <div class="d-flex align-items-center gap-1">
      <div class="spinner-bubble"></div>
      <div class="spinner-bubble"></div>
      <div class="spinner-bubble"></div>
    </div>
    <span>Disconnecting...</span>
    } @else {
    <svg
      width="18"
      height="18"
      viewBox="0 0 48 48"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      style="flex-shrink: 0"
    >
      <rect width="22" height="22" x="13" y="13" fill="#fff"></rect>
      <polygon
        fill="#1e88e5"
        points="25.68,20.92 26.688,22.36 28.272,21.208 28.272,29.56 30,29.56 30,18.616 28.56,18.616"
      ></polygon>
      <path
        fill="#1e88e5"
        d="M22.943,23.745c0.625-0.574,1.013-1.37,1.013-2.249c0-1.747-1.533-3.168-3.417-3.168 c-1.602,0-2.972,1.009-3.33,2.453l1.657,0.421c0.165-0.664,0.868-1.146,1.673-1.146c0.942,0,1.709,0.646,1.709,1.44 c0,0.794-0.767,1.44-1.709,1.44h-0.997v1.728h0.997c1.081,0,1.993,0.751,1.993,1.64c0,0.904-0.866,1.64-1.931,1.64 c-0.962,0-1.784-0.61-1.914-1.418L17,26.802c0.262,1.636,1.81,2.87,3.6,2.87c2.007,0,3.64-1.511,3.64-3.368 C24.24,25.281,23.736,24.363,22.943,23.745z"
      ></path>
      <polygon
        fill="#fbc02d"
        points="34,42 14,42 13,38 14,34 34,34 35,38"
      ></polygon>
      <polygon
        fill="#4caf50"
        points="38,35 42,34 42,14 38,13 34,14 34,34"
      ></polygon>
      <path
        fill="#1e88e5"
        d="M34,14l1-4l-1-4H9C7.343,6,6,7.343,6,9v25l4,1l4-1V14H34z"
      ></path>
      <polygon fill="#e53935" points="34,34 34,42 42,34"></polygon>
      <path fill="#1565c0" d="M39,6h-5v8h8V9C42,7.343,40.657,6,39,6z"></path>
      <path fill="#1565c0" d="M9,42h5v-8H6v5C6,40.657,7.343,42,9,42z"></path>
    </svg>
    <span>Disconnect Google Calendar</span>
    }
  </button>
  } @else {
  <button
    class="btn btn-lg btn-outline-dark d-flex align-items-center gap-2"
    (click)="connectGoogleCalendar()"
    [disabled]="isConnectingGoogleCalendar"
  >
    @if (isConnectingGoogleCalendar) {
    <div class="d-flex align-items-center gap-1">
      <div class="spinner-bubble"></div>
      <div class="spinner-bubble"></div>
      <div class="spinner-bubble"></div>
    </div>
    <span>Connecting...</span>
    } @else {
    <svg
      width="18"
      height="18"
      viewBox="0 0 48 48"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      style="flex-shrink: 0"
    >
      <rect width="22" height="22" x="13" y="13" fill="#fff"></rect>
      <polygon
        fill="#1e88e5"
        points="25.68,20.92 26.688,22.36 28.272,21.208 28.272,29.56 30,29.56 30,18.616 28.56,18.616"
      ></polygon>
      <path
        fill="#1e88e5"
        d="M22.943,23.745c0.625-0.574,1.013-1.37,1.013-2.249c0-1.747-1.533-3.168-3.417-3.168 c-1.602,0-2.972,1.009-3.33,2.453l1.657,0.421c0.165-0.664,0.868-1.146,1.673-1.146c0.942,0,1.709,0.646,1.709,1.44 c0,0.794-0.767,1.44-1.709,1.44h-0.997v1.728h0.997c1.081,0,1.993,0.751,1.993,1.64c0,0.904-0.866,1.64-1.931,1.64 c-0.962,0-1.784-0.61-1.914-1.418L17,26.802c0.262,1.636,1.81,2.87,3.6,2.87c2.007,0,3.64-1.511,3.64-3.368 C24.24,25.281,23.736,24.363,22.943,23.745z"
      ></path>
      <polygon
        fill="#fbc02d"
        points="34,42 14,42 13,38 14,34 34,34 35,38"
      ></polygon>
      <polygon
        fill="#4caf50"
        points="38,35 42,34 42,14 38,13 34,14 34,34"
      ></polygon>
      <path
        fill="#1e88e5"
        d="M34,14l1-4l-1-4H9C7.343,6,6,7.343,6,9v25l4,1l4-1V14H34z"
      ></path>
      <polygon fill="#e53935" points="34,34 34,42 42,34"></polygon>
      <path fill="#1565c0" d="M39,6h-5v8h8V9C42,7.343,40.657,6,39,6z"></path>
      <path fill="#1565c0" d="M9,42h5v-8H6v5C6,40.657,7.343,42,9,42z"></path>
    </svg>
    <span>Connect Google Calendar</span>
    }
  </button>
  }
  <button
    class="btn btn-lg btn-primary"
    [routerLink]="['/job-board-setup/edit-job-board-setup']"
  >
    <svg
      width="18"
      height="18"
      viewBox="0 0 18 18"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <g clip-path="url(#clip0_1271_19665)">
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M8.95697 0.9375L10.125 0.9375C10.4357 0.9375 10.6875 1.18934 10.6875 1.5C10.6875 1.81066 10.4357 2.0625 10.125 2.0625H9C7.21633 2.0625 5.93517 2.06369 4.96018 2.19478C4.00138 2.32369 3.42334 2.56886 2.9961 2.9961C2.56886 3.42334 2.32369 4.00138 2.19478 4.96018C2.06369 5.93517 2.0625 7.21633 2.0625 9C2.0625 10.7837 2.06369 12.0648 2.19478 13.0398C2.32369 13.9986 2.56886 14.5767 2.9961 15.0039C3.42334 15.4311 4.00138 15.6763 4.96018 15.8052C5.93517 15.9363 7.21633 15.9375 9 15.9375C10.7837 15.9375 12.0648 15.9363 13.0398 15.8052C13.9986 15.6763 14.5767 15.4311 15.0039 15.0039C15.4311 14.5767 15.6763 13.9986 15.8052 13.0398C15.9363 12.0648 15.9375 10.7837 15.9375 9V7.875C15.9375 7.56434 16.1893 7.3125 16.5 7.3125C16.8107 7.3125 17.0625 7.56434 17.0625 7.875V9.04303C17.0625 10.7743 17.0625 12.1311 16.9202 13.1897C16.7745 14.2733 16.4705 15.1283 15.7994 15.7994C15.1283 16.4705 14.2733 16.7745 13.1897 16.9202C12.1311 17.0625 10.7743 17.0625 9.04303 17.0625H8.95697C7.22567 17.0625 5.8689 17.0625 4.81028 16.9202C3.72673 16.7745 2.87171 16.4705 2.2006 15.7994C1.5295 15.1283 1.22549 14.2733 1.07981 13.1897C0.937483 12.1311 0.937491 10.7743 0.9375 9.04303V8.95697C0.937491 7.22567 0.937483 5.86889 1.07981 4.81028C1.22549 3.72673 1.5295 2.87171 2.2006 2.2006C2.87171 1.5295 3.72673 1.22549 4.81028 1.07981C5.86889 0.937483 7.22567 0.937491 8.95697 0.9375ZM12.5779 1.70694C13.6038 0.681022 15.2671 0.681022 16.2931 1.70694C17.319 2.73285 17.319 4.39619 16.2931 5.4221L11.307 10.4082C11.0285 10.6867 10.8541 10.8611 10.6594 11.013C10.4302 11.1918 10.1821 11.3451 9.91961 11.4702C9.69676 11.5764 9.46271 11.6544 9.08909 11.7789L6.9107 12.505C6.50851 12.6391 6.0651 12.5344 5.76533 12.2347C5.46556 11.9349 5.36089 11.4915 5.49495 11.0893L6.22108 8.91092C6.34559 8.53729 6.42359 8.30324 6.5298 8.08039C6.65489 7.81791 6.80821 7.56984 6.98703 7.34056C7.13887 7.1459 7.31333 6.97147 7.59183 6.693L12.5779 1.70694ZM15.4976 2.50243C14.911 1.91586 13.96 1.91586 13.3734 2.50243L13.0909 2.7849C13.108 2.85679 13.1318 2.94245 13.1649 3.038C13.2724 3.34779 13.4758 3.75579 13.86 4.14C14.2442 4.5242 14.6522 4.7276 14.962 4.83508C15.0575 4.86823 15.1432 4.89205 15.2151 4.90907L15.4976 4.62661C16.0841 4.04003 16.0841 3.08901 15.4976 2.50243ZM14.3289 5.79532C13.9419 5.6289 13.4911 5.36209 13.0645 4.93549C12.6379 4.50889 12.3711 4.05812 12.2047 3.67114L8.41313 7.46269C8.10075 7.77508 7.97823 7.89897 7.87411 8.03246C7.74553 8.19731 7.6353 8.37567 7.54536 8.56439C7.47252 8.71722 7.41651 8.8822 7.2768 9.30131L6.95288 10.2731L7.72693 11.0471L8.69869 10.7232C9.1178 10.5835 9.28278 10.5275 9.43561 10.4546C9.62433 10.3647 9.80269 10.2545 9.96754 10.1259C10.101 10.0218 10.2249 9.89926 10.5373 9.58687L14.3289 5.79532Z"
          fill="#E0EBFF"
        />
      </g>
      <defs>
        <clipPath id="clip0_1271_19665">
          <rect width="18" height="18" fill="white" />
        </clipPath>
      </defs>
    </svg>

    <span>Edit</span>
  </button>
</app-page-header>

<!-- Loading state - Skeleton Loader -->
@if (isLoading) {
<div class="content-hug">
  <div class="row g-4">
    <!-- Left Card Skeleton: Description -->
    <div class="col-lg-8">
      <div class="content-box d-flex flex-column gap-3 h-100">
        <!-- Title skeleton -->
        <div class="placeholder-glow">
          <span class="placeholder col-4 skeleton-title"></span>
        </div>

        <div class="d-flex flex-column gap-2">
          <!-- Label skeleton -->
          <div class="placeholder-glow">
            <span class="placeholder col-3 skeleton-label"></span>
          </div>

          <!-- Description text skeleton -->
          <div class="d-flex flex-column gap-2">
            @for (i of [1,2,3,4,5,6]; track i) {
            <div class="placeholder-glow">
              <span class="placeholder col-12 skeleton-text-line"></span>
            </div>
            }
          </div>

          <!-- See More button skeleton -->
          <div class="d-flex justify-content-center mt-2">
            <div class="placeholder-glow">
              <span class="placeholder col-3 skeleton-button"></span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Right Card Skeleton: Social Media Links -->
    <div class="col-lg-4">
      <div class="content-box d-flex flex-column gap-3 h-100">
        <!-- Title skeleton -->
        <div class="placeholder-glow">
          <span class="placeholder col-5 skeleton-title"></span>
        </div>

        <div class="d-flex flex-column gap-2">
          @for (i of [1,2,3,4,5]; track i) {
          <div class="social-link-item position-relative">
            <!-- Label skeleton -->
            <div class="placeholder-glow mb-1">
              <span class="placeholder col-4 skeleton-label"></span>
            </div>
            <!-- URL skeleton -->
            <div class="placeholder-glow">
              <span class="placeholder col-10 skeleton-url"></span>
            </div>
            <!-- Icon skeleton -->
            <div class="position-absolute top-0 end-0">
              <div class="placeholder-glow">
                <span class="placeholder skeleton-icon"></span>
              </div>
            </div>
          </div>
          }
        </div>
      </div>
    </div>
  </div>
</div>
}

<!-- Error state -->
@if (!isLoading && errorMessage) {
<div class="content-hug">
  <div class="content-box d-flex flex-column gap-3">
    <div class="alert alert-danger" role="alert">
      <strong>Error:</strong> {{ errorMessage }}
    </div>
  </div>
</div>
}

<!-- Content -->
@if (!isLoading && !errorMessage) {
<div class="content-hug">
  <div class="row g-4">
    <!-- Left Card: Description -->
    <div class="col-lg-8">
      <div class="content-box d-flex flex-column gap-3 h-100">
        <!-- Logo -->
        <div class="logo-container">
          @if (logoUrl && !logoLoadFailed) {
          <img
            [src]="logoUrl"
            alt=""
            class="logo-image"
            (error)="handleLogoError()"
          />
          } @else {
          <div class="logo-placeholder">
            <svg
              width="100"
              height="100"
              viewBox="0 0 100 100"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <rect width="100" height="100" rx="8" fill="#E8EFFD" />
              <g clip-path="url(#clip0_placeholder)">
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M35 45C35 38.3726 40.3726 33 47 33C53.6274 33 59 38.3726 59 45C59 51.6274 53.6274 57 47 57C40.3726 57 35 51.6274 35 45ZM47 39C43.134 39 40 42.134 40 46C40 49.866 43.134 53 47 53C50.866 53 54 49.866 54 46C54 42.134 50.866 39 47 39Z"
                  fill="#5B7A99"
                />
                <path
                  d="M31 65C31 60.0294 35.0294 56 40 56H54C58.9706 56 63 60.0294 63 65V67C63 69.2091 61.2091 71 59 71H33C30.7909 71 29 69.2091 29 67V65H31Z"
                  fill="#5B7A99"
                  opacity="0.6"
                />
              </g>
              <defs>
                <clipPath id="clip0_placeholder">
                  <rect width="100" height="100" fill="white" />
                </clipPath>
              </defs>
            </svg>
            <span class="placeholder-text">No Logo</span>
          </div>
          }
        </div>

        <h2>Where talent meets opportunity</h2>

        <div class="d-flex flex-column gap-2">
          <p class="text-muted mb-0" style="font-size: 12px; opacity: 0.7">
            Description
          </p>

          <div class="description-content">
            @if (isDescriptionExpanded) {
            <div style="white-space: pre-wrap">{{ description }}</div>
            } @else {
            <div class="description-preview">
              {{ description }}
            </div>
            }
          </div>

          @if (shouldShowSeeMore) {
          <div class="d-flex justify-content-center mt-2">
            <button
              type="button"
              class="btn btn-link p-0 text-decoration-none d-flex align-items-center gap-1"
              (click)="toggleDescription()"
              style="color: #2c435d; font-size: 14px; font-weight: 600"
            >
              @if (isDescriptionExpanded) {
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="18"
                height="18"
                viewBox="0 0 24 24"
              >
                <path
                  fill="currentColor"
                  fill-rule="evenodd"
                  d="M4.43 8.512a.75.75 0 0 1 1.058-.081L12 14.012l6.512-5.581a.75.75 0 0 1 .976 1.138l-7 6a.75.75 0 0 1-.976 0l-7-6a.75.75 0 0 1-.081-1.057"
                  clip-rule="evenodd"
                />
              </svg>
              <span>See Less</span>
              } @else {
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="18"
                height="18"
                viewBox="0 0 24 24"
              >
                <path
                  fill="none"
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="1.5"
                  d="m19 15l-7-6l-7 6"
                />
              </svg>
              <span>See More</span>
              }
            </button>
          </div>
          }
        </div>
      </div>
    </div>

    <!-- Right Card: Social Media Links -->
    <div class="col-lg-4">
      <div class="content-box d-flex flex-column gap-3 h-100">
        <!-- Jobs Landing Page URL Section -->
        <div class="social-link-item position-relative pb-3 border-bottom">
          <h4
            style="font-size: 14px; font-weight: 600; color: #2c435d"
            class="mb-2"
          >
            Jobs Landing Page
          </h4>
          <p
            class="mb-0"
            style="font-size: 14px; color: #2c435d; word-break: break-all"
          >
            {{ jobsLandingPageUrl || "N/A" }}
          </p>
          @if (jobsLandingPageUrl) {
          <button
            type="button"
            class="btn btn-link p-0 position-absolute top-0 end-0 text-decoration-none"
            (click)="openExternalLink(jobsLandingPageUrl)"
            style="
              width: 34px;
              height: 32px;
              display: flex;
              align-items: center;
              justify-content: center;
            "
            title="Open Careers Page"
          >
            <svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#clip0_1271_19239)">
                <path
                  d="M9 0.9375H8.95697C7.22567 0.937491 5.86889 0.937483 4.81028 1.07981C3.72673 1.22549 2.87171 1.5295 2.2006 2.2006C1.5295 2.87171 1.22549 3.72673 1.07981 4.81028C0.937483 5.86889 0.937491 7.22567 0.9375 8.95697V9.04303C0.937491 10.7743 0.937483 12.1311 1.07981 13.1897C1.22549 14.2733 1.5295 15.1283 2.2006 15.7994C2.87171 16.4705 3.72673 16.7745 4.81028 16.9202C5.8689 17.0625 7.22567 17.0625 8.95697 17.0625H9.04303C10.7743 17.0625 12.1311 17.0625 13.1897 16.9202C14.2733 16.7745 15.1283 16.4705 15.7994 15.7994C16.4705 15.1283 16.7745 14.2733 16.9202 13.1897C17.0625 12.1311 17.0625 10.7743 17.0625 9.04303V9C17.0625 8.68934 16.8107 8.4375 16.5 8.4375C16.1893 8.4375 15.9375 8.68934 15.9375 9C15.9375 10.7837 15.9363 12.0648 15.8052 13.0398C15.6763 13.9986 15.4311 14.5767 15.0039 15.0039C14.5767 15.4311 13.9986 15.6763 13.0398 15.8052C12.0648 15.9363 10.7837 15.9375 9 15.9375C7.21633 15.9375 5.93517 15.9363 4.96018 15.8052C4.00138 15.6763 3.42334 15.4311 2.9961 15.0039C2.56886 14.5767 2.32369 13.9986 2.19478 13.0398C2.06369 12.0648 2.0625 10.7837 2.0625 9C2.0625 7.21633 2.06369 5.93517 2.19478 4.96018C2.32369 4.00138 2.56886 3.42334 2.9961 2.9961C3.42334 2.56886 4.00138 2.32369 4.96018 2.19478C5.93517 2.06369 7.21633 2.0625 9 2.0625C9.31066 2.0625 9.5625 1.81066 9.5625 1.5C9.5625 1.18934 9.31066 0.9375 9 0.9375Z"
                  fill="#377AFD"
                />
                <path
                  d="M9.35225 7.85225C9.13258 8.07192 9.13258 8.42808 9.35225 8.64775C9.57192 8.86742 9.92808 8.86742 10.1477 8.64775L15.9375 2.858V5.50781C15.9375 5.81847 16.1893 6.07031 16.5 6.07031C16.8107 6.07031 17.0625 5.81847 17.0625 5.50781V1.5C17.0625 1.18934 16.8107 0.9375 16.5 0.9375H12.4922C12.1815 0.9375 11.9297 1.18934 11.9297 1.5C11.9297 1.81066 12.1815 2.0625 12.4922 2.0625H15.142L9.35225 7.85225Z"
                  fill="#377AFD"
                />
              </g>
              <defs>
                <clipPath id="clip0_1271_19239">
                  <rect width="18" height="18" fill="white" />
                </clipPath>
              </defs>
            </svg>
          </button>
          }
        </div>

        <!-- Social Media Links Section -->
        <div class="d-flex flex-column gap-2">
          <h4
            style="font-size: 14px; font-weight: 600; color: #2c435d; margin: 0"
          >
            Social media links
          </h4>
          @for (link of socialMediaLinks; track link.name) {
          <div class="social-link-item position-relative">
            <p class="text-muted mb-1" style="font-size: 12px; opacity: 0.7">
              {{ link.name }}
            </p>
            <p class="mb-0" style="font-size: 14px; color: #2c435d">
              {{ link.url || "N/A" }}
            </p>
            @if (link.url) {
            <button
              type="button"
              class="btn btn-link p-0 position-absolute top-0 end-0 text-decoration-none"
              (click)="openExternalLink(link.url)"
              style="
                width: 34px;
                height: 32px;
                display: flex;
                align-items: center;
                justify-content: center;
              "
              title="Open {{ link.name }}"
            >
              <svg
                width="18"
                height="18"
                viewBox="0 0 18 18"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clip-path="url(#clip0_1271_19239)">
                  <path
                    d="M9 0.9375H8.95697C7.22567 0.937491 5.86889 0.937483 4.81028 1.07981C3.72673 1.22549 2.87171 1.5295 2.2006 2.2006C1.5295 2.87171 1.22549 3.72673 1.07981 4.81028C0.937483 5.86889 0.937491 7.22567 0.9375 8.95697V9.04303C0.937491 10.7743 0.937483 12.1311 1.07981 13.1897C1.22549 14.2733 1.5295 15.1283 2.2006 15.7994C2.87171 16.4705 3.72673 16.7745 4.81028 16.9202C5.8689 17.0625 7.22567 17.0625 8.95697 17.0625H9.04303C10.7743 17.0625 12.1311 17.0625 13.1897 16.9202C14.2733 16.7745 15.1283 16.4705 15.7994 15.7994C16.4705 15.1283 16.7745 14.2733 16.9202 13.1897C17.0625 12.1311 17.0625 10.7743 17.0625 9.04303V9C17.0625 8.68934 16.8107 8.4375 16.5 8.4375C16.1893 8.4375 15.9375 8.68934 15.9375 9C15.9375 10.7837 15.9363 12.0648 15.8052 13.0398C15.6763 13.9986 15.4311 14.5767 15.0039 15.0039C14.5767 15.4311 13.9986 15.6763 13.0398 15.8052C12.0648 15.9363 10.7837 15.9375 9 15.9375C7.21633 15.9375 5.93517 15.9363 4.96018 15.8052C4.00138 15.6763 3.42334 15.4311 2.9961 15.0039C2.56886 14.5767 2.32369 13.9986 2.19478 13.0398C2.06369 12.0648 2.0625 10.7837 2.0625 9C2.0625 7.21633 2.06369 5.93517 2.19478 4.96018C2.32369 4.00138 2.56886 3.42334 2.9961 2.9961C3.42334 2.56886 4.00138 2.32369 4.96018 2.19478C5.93517 2.06369 7.21633 2.0625 9 2.0625C9.31066 2.0625 9.5625 1.81066 9.5625 1.5C9.5625 1.18934 9.31066 0.9375 9 0.9375Z"
                    fill="#377AFD"
                  />
                  <path
                    d="M9.35225 7.85225C9.13258 8.07192 9.13258 8.42808 9.35225 8.64775C9.57192 8.86742 9.92808 8.86742 10.1477 8.64775L15.9375 2.858V5.50781C15.9375 5.81847 16.1893 6.07031 16.5 6.07031C16.8107 6.07031 17.0625 5.81847 17.0625 5.50781V1.5C17.0625 1.18934 16.8107 0.9375 16.5 0.9375H12.4922C12.1815 0.9375 11.9297 1.18934 11.9297 1.5C11.9297 1.81066 12.1815 2.0625 12.4922 2.0625H15.142L9.35225 7.85225Z"
                    fill="#377AFD"
                  />
                </g>
                <defs>
                  <clipPath id="clip0_1271_19239">
                    <rect width="18" height="18" fill="white" />
                  </clipPath>
                </defs>
              </svg>
            </button>
            }
          </div>
          } @empty {
          <p class="text-muted mb-0">No social media links available</p>
          }
        </div>
      </div>
    </div>
  </div>
</div>
}

<!-- Disconnect Google Calendar Confirmation Popup -->
<app-popup
  [title]="'Disconnect Google Calendar'"
  [paragraph1]="'Are you sure you want to disconnect Google Calendar?'"
  [paragraph2]="
    'This action will remove the Google Calendar integration. You can reconnect it later if needed.'
  "
  [isOpen]="showDisconnectConfirmation"
  (close)="closeDisconnectConfirmation()"
>
  <button
    modal-btn-left
    class="btn btn-lg btn-outline-dark w-100"
    (click)="disconnectGoogleCalendar()"
    [disabled]="isDisconnectingGoogleCalendar"
  >
    @if (isDisconnectingGoogleCalendar) {
    <div class="d-flex align-items-center justify-content-center gap-1">
      <div class="spinner-bubble"></div>
      <div class="spinner-bubble"></div>
      <div class="spinner-bubble"></div>
    </div>
    } @else {
    <span>Disconnect</span>
    }
  </button>
  <button
    modal-btn-right
    class="btn btn-lg btn-outline-dark border-0 w-100"
    (click)="closeDisconnectConfirmation()"
    [disabled]="isDisconnectingGoogleCalendar"
  >
    Cancel
  </button>
</app-popup>
