<!-- start page header -->
<app-page-header [breadcrumbs]="[
    { label: 'Recruitment', link: '/calendar' },
    { label: 'Archived Openings', link: '/archived-openings' },
    {  label: 'Applicants'}
  ]" title="Opening {{jobOpening?.job_title?.name || 'Loading...'}} - Applicants"
  create="{{jobOpening?.created_at | date:'dd/MM/yyyy'}}" update="{{jobOpening?.updated_at | date:'dd/MM/yyyy'}}">

  <button class="btn btn-lg btn-success" (click)="openUnarchiveModal()">
    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24">
      <path fill="currentColor"
        d="M12.53 10.47a.75.75 0 0 0-1.06 0l-2.5 2.5a.75.75 0 1 0 1.06 1.06l1.22-1.22V17a.75.75 0 0 0 1.5 0v-4.19l1.22 1.22a.75.75 0 1 0 1.06-1.06z" />
      <path fill="currentColor" fill-rule="evenodd"
        d="M12.057 1.25h-.114c-2.309 0-4.118 0-5.53.19c-1.444.194-2.584.6-3.479 1.494c-.895.895-1.3 2.035-1.494 3.48c-.19 1.411-.19 3.22-.19 5.529V12h.01c-.01.579-.01 1.23-.01 1.966v.068c0 1.371 0 2.447.07 3.311c.073.88.221 1.607.557 2.265a5.75 5.75 0 0 0 2.513 2.513c.658.336 1.385.485 2.265.556c.864.071 1.94.071 3.311.071h4.068c1.371 0 2.447 0 3.311-.07c.88-.072 1.607-.221 2.265-.557a5.75 5.75 0 0 0 2.513-2.513c.336-.658.485-1.385.556-2.265c.071-.864.071-1.94.071-3.311v-.068c0-.736 0-1.387-.01-1.966h.01v-.057c0-2.309 0-4.118-.19-5.53c-.194-1.444-.6-2.584-1.494-3.479c-.895-.895-2.035-1.3-3.48-1.494c-1.411-.19-3.22-.19-5.529-.19M4.39 5.877a5.8 5.8 0 0 0-1.508 1.11q.02-.192.044-.373c.172-1.279.5-2.05 1.069-2.62c.57-.569 1.34-.896 2.619-1.068c1.3-.174 3.008-.176 5.386-.176s4.086.002 5.386.176c1.279.172 2.05.5 2.62 1.069c.569.57.896 1.34 1.068 2.619q.023.18.044.373a5.8 5.8 0 0 0-1.508-1.11c-.658-.336-1.385-.484-2.265-.556c-.864-.071-1.94-.071-3.311-.071H9.966c-1.371 0-2.447 0-3.311.07c-.88.073-1.607.221-2.265.557m.68 1.336c.412-.21.92-.333 1.707-.397c.796-.065 1.81-.066 3.223-.066h4c1.412 0 2.427 0 3.223.066c.787.064 1.295.188 1.707.397a4.25 4.25 0 0 1 1.857 1.858c.21.411.333.919.397 1.706c.065.796.066 1.81.066 3.223s0 2.427-.066 3.223c-.064.787-.188 1.295-.397 1.707a4.25 4.25 0 0 1-1.857 1.857c-.412.21-.92.333-1.707.397c-.796.065-1.81.066-3.223.066h-4c-1.413 0-2.427 0-3.223-.066c-.787-.064-1.295-.188-1.706-.397a4.25 4.25 0 0 1-1.858-1.857c-.21-.412-.333-.92-.397-1.707c-.065-.796-.066-1.81-.066-3.223s0-2.427.066-3.223c.064-.787.188-1.295.397-1.706a4.25 4.25 0 0 1 1.858-1.858"
        clip-rule="evenodd" />
    </svg>
    <span>Unarchive</span>
  </button>

  <button class="btn btn-lg btn-outline-primary" (click)="openDuplicateModal()">
    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24">
      <g fill="none" stroke="currentColor" stroke-width="1.5">
        <path
          d="M8 5H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-1M8 5a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2M8 5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2m0 0h2a2 2 0 0 1 2 2v3m2 4H10m0 0l3-3m-3 3l3 3" />
      </g>
    </svg>
    <span>Duplicate</span>
  </button>

</app-page-header>
<!-- page content -->
<div class="content-hug d-flex flex-column gap-4">

  <!-- 2 cards -->
  <div class="row">
    <div class="col-lg-8">
      <!-- Main Information Section -->
      <div class="content-box d-flex flex-column gap-3 w-100">
        <div class="d-flex align-items-center justify-content-between">
          <h2>Main Information</h2>
          <button (click)="toggleText()" class="edit-btn d-flex align-items-center justify-content-center gap-1">
            @if (isExpanded) {
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24">
              <path fill="currentColor" fill-rule="evenodd"
                d="M4.43 8.512a.75.75 0 0 1 1.058-.081L12 14.012l6.512-5.581a.75.75 0 0 1 .976 1.138l-7 6a.75.75 0 0 1-.976 0l-7-6a.75.75 0 0 1-.081-1.057"
                clip-rule="evenodd" />
            </svg>
            }
            @if (!isExpanded) {
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24">
              <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                d="m19 15l-7-6l-7 6" />
            </svg>
            }
            <span>{{ isExpanded ? 'Show' : 'Hide' }}</span>
          </button>
        </div>

        <!-- Loading skeleton for Main Information -->
        @if (mainInfoLoading) {
        <div class="d-flex flex-column gap-3">
          @for (item of [1,2,3,4,5,6,7,8,9]; track item) {
          <div class="placeholder-glow">
            <div class="info">
              <h6 class="placeholder col-4"></h6>
              <span class="placeholder col-6"></span>
            </div>
          </div>
          }
        </div>
        }

        @if (!mainInfoLoading && !isExpanded) {
        <div class="d-flex flex-column gap-3">
          <div class="info">
            <h6>Opening ID</h6>
            <span>{{jobOpening.id?.toString().padStart(4, '0') || 'N/A'}}</span>
          </div>
          <div class="info">
            <h6>Opening Name</h6>
            <span>{{jobOpening.job_title?.name || 'N/A'}}</span>
          </div>
          <div class="info">
            <h6>Branch</h6>
            <span>{{jobOpening.branch?.name || 'N/A'}}</span>
          </div>
          <div class="info">
            <h6>CV Limit</h6>
            <span>{{jobOpening.cv_limit || 'N/A'}}</span>
          </div>
          <div class="info">
            <h6>Time Limit</h6>
            <span>{{jobOpening.time_limit || 'N/A'}} Days</span>
          </div>
          <div class="info">
            <h6>Work Schedule</h6>
            <span>{{jobOpening.work_schedule?.name || 'N/A'}}</span>
          </div>
          <div class="info">
            <h6>Days on Site</h6>
            <span>{{jobOpening.days_on_site || 'N/A'}}</span>
          </div>
          <div class="info">
            <h6>Employment Type</h6>
            <span>{{jobOpening.employment_type?.name || 'N/A'}}</span>
          </div>
          <div class="info">
            <h6>Status</h6>
            <span class="badge bg-warning">{{jobOpening.status || 'Archived'}}</span>
          </div>
          <div class="info">
            <h6>Created By</h6>
            <span>{{jobOpening.created_by?.name || 'N/A'}}</span>
          </div>
          <div class="info">
            <h6>Updated By</h6>
            <span>{{jobOpening.updated_by?.name || 'N/A'}}</span>
          </div>
        </div>
        }

      </div>
    </div>
    <div class="col-lg-4">
      <div class="content-box d-flex flex-column gap-3 w-100">
        <div class="d-flex align-items-center justify-content-between">
          <h2>Job details</h2>
          <a class="view-btn h-100 d-flex align-items-center gap-1">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24">
              <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="1.5">
                <path stroke-linejoin="round" d="m13 11l9-9m0 0h-5.344M22 2v5.344" />
                <path
                  d="M22 12c0 4.714 0 7.071-1.465 8.535C19.072 22 16.714 22 12 22s-7.071 0-8.536-1.465C2 19.072 2 16.714 2 12s0-7.071 1.464-8.536C4.93 2 7.286 2 12 2" />
              </g>
            </svg>
            <span>View</span>
          </a>
        </div>

        <!-- Loading skeleton for Job Details -->
        @if (jobDetailsInfoLoading) {
        <div class="d-flex flex-column gap-3">
          @for (item of [1,2,3,4,5,6,7]; track item) {
          <div class="placeholder-glow">
            <div class="info">
              <h6 class="placeholder col-4"></h6>
              <span class="placeholder col-7"></span>
            </div>
          </div>
          }
        </div>
        }

        @if (!jobDetailsInfoLoading && !isExpanded) {
        <div class="d-flex flex-column gap-3">
          <div class="info">
            <h6>Job ID</h6>
            <span>{{jobOpening.job_title?.id?.toString().padStart(4, '0') || 'N/A'}}</span>
          </div>
          <div class="info">
            <h6>Job title</h6>
            <span>{{jobOpening.job_title?.name || 'N/A'}}</span>
          </div>
          <div class="info">
            <h6>Company</h6>
            <span>{{jobOpening.company?.name || 'N/A'}}</span>
          </div>
          <div class="info">
            <h6>Employment Type</h6>
            <span>{{jobOpening.employment_type?.name || 'N/A'}}</span>
          </div>
          <div class="info">
            <h6>Work Schedule</h6>
            <span>{{jobOpening.work_schedule?.name || 'N/A'}}</span>
          </div>
          <div class="info">
            <h6>Job type</h6>
            <span>Full time</span>
          </div>
          <div class="info">
            <h6>Average Salary</h6>
            <span>14.000-18.000</span>
          </div>
        </div>
        }

      </div>
    </div>

  </div>

  <div class="content-box">
    <!-- Applicants Section Header -->
    <h2 class="mb-3">Applicants</h2>

    <!-- Search Bar -->
    <div class="mb-3">
      <div data-mdb-input-init class="form-outline w-25">
        <input type="text" class="form-control" placeholder="Search for an employee" [(ngModel)]="searchTerm"
          (input)="onSearchChange()" />
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
          <g fill="none" stroke-width="1.5">
            <circle cx="11.5" cy="11.5" r="9.5" />
            <path stroke-linecap="round" d="M18.5 18.5L22 22" />
          </g>
        </svg>
      </div>
    </div>

    <!-- Tab Navigation -->
    <ul class="nav d-flex align-items-center nav-tabs bg-white p-0 px-3 mb-3">
      <li class="nav-item" [class.active]="activeTab === 'new'" (click)="setActiveTab('new')">
        <span class="nav-link nav-link-wrapper">
          <span class="tab-header">
            <svg width="19" height="18" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0_1087_19391)">
                <circle cx="9.16699" cy="4.5" r="3" fill="currentColor" />
                <path opacity="0.3"
                  d="M15.167 13.125C15.167 14.989 15.167 16.5 9.16699 16.5C3.16699 16.5 3.16699 14.989 3.16699 13.125C3.16699 11.261 5.85328 9.75 9.16699 9.75C12.4807 9.75 15.167 11.261 15.167 13.125Z"
                  fill="currentColor" />
              </g>
              <defs>
                <clipPath id="clip0_1087_19391">
                  <rect width="18" height="18" fill="white" transform="translate(0.166992)" />
                </clipPath>
              </defs>
            </svg>
            New Applicants
          </span>
          <span class="tab-count">
            <span class="count-item">
              <svg class="offer-icon" xmlns="http://www.w3.org/2000/svg" width="6" height="6" viewBox="0 0 6 6"
                fill="none">
                <path
                  d="M6 3C6 4.65685 4.65685 6 3 6C1.34315 6 0 4.65685 0 3C0 1.34315 1.34315 0 3 0C4.65685 0 6 1.34315 6 3Z"
                  fill="currentColor" />
              </svg>
              {{ applicantCounts.newApplicants }}
            </span>
          </span>
        </span>
      </li>

      <li class="nav-item" [class.active]="activeTab === 'candidate'" (click)="setActiveTab('candidate')">
        <span class="nav-link nav-link-wrapper">
          <span class="tab-header">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M12 4.5C12 6.15685 10.6569 7.5 9 7.5C7.34315 7.5 6 6.15685 6 4.5C6 2.84315 7.34315 1.5 9 1.5C10.6569 1.5 12 2.84315 12 4.5Z"
                fill="currentColor" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M12.375 16.5C11.1376 16.5 10.5188 16.5 10.1344 16.1156C9.75 15.7312 9.75 15.1124 9.75 13.875C9.75 12.6376 9.75 12.0188 10.1344 11.6344C10.5188 11.25 11.1376 11.25 12.375 11.25C13.6124 11.25 14.2312 11.25 14.6156 11.6344C15 12.0188 15 12.6376 15 13.875C15 15.1124 15 15.7312 14.6156 16.1156C14.2312 16.5 13.6124 16.5 12.375 16.5ZM13.851 13.3094C14.0219 13.1385 14.0219 12.8615 13.851 12.6906C13.6802 12.5198 13.4032 12.5198 13.2323 12.6906L11.7917 14.1313L11.5177 13.8573C11.3468 13.6865 11.0698 13.6865 10.899 13.8573C10.7281 14.0282 10.7281 14.3052 10.899 14.476L11.4823 15.0594C11.6532 15.2302 11.9302 15.2302 12.101 15.0594L13.851 13.3094Z"
                fill="currentColor" />
              <path opacity="0.3"
                d="M10.858 16.4406C10.3134 16.4796 9.69723 16.5 9 16.5C3 16.5 3 14.989 3 13.125C3 11.261 5.68629 9.75 9 9.75C11.1604 9.75 13.0542 10.3923 14.1107 11.3559C13.7235 11.25 13.1803 11.25 12.375 11.25C11.1376 11.25 10.5188 11.25 10.1344 11.6344C9.75 12.0188 9.75 12.6376 9.75 13.875C9.75 15.1124 9.75 15.7312 10.1344 16.1156C10.3126 16.2937 10.541 16.3893 10.858 16.4406Z"
                fill="currentColor" />
            </svg>
            Candidate
          </span>
          <span class="tab-count">
            <span class="count-item">
              <svg class="offer-icon" xmlns="http://www.w3.org/2000/svg" width="6" height="6" viewBox="0 0 6 6"
                fill="none">
                <path
                  d="M6 3C6 4.65685 4.65685 6 3 6C1.34315 6 0 4.65685 0 3C0 1.34315 1.34315 0 3 0C4.65685 0 6 1.34315 6 3Z"
                  fill="currentColor" />
              </svg>
              {{ applicantCounts.candidates }}
            </span>
          </span>
        </span>
      </li>

      <li class="nav-item" [class.active]="activeTab === 'interviewee'" (click)="setActiveTab('interviewee')">
        <span class="nav-link nav-link-wrapper">
          <span class="tab-header">
            <svg width="19" height="18" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0_1087_19404)">
                <path
                  d="M6.05305 1.5C6.36619 1.5 6.62004 1.73247 6.62004 2.01923V3.06662C7.12298 3.05769 7.68672 3.05769 8.32102 3.05769H11.345C11.9793 3.05769 12.543 3.05769 13.046 3.06662V2.01923C13.046 1.73247 13.2998 1.5 13.613 1.5C13.9261 1.5 14.18 1.73247 14.18 2.01923V3.11256C15.2681 3.19236 15.9824 3.38818 16.5072 3.86878C17.032 4.34938 17.2459 5.00354 17.333 6V6.75H2.33301V6C2.42014 5.00354 2.63398 4.34938 3.15879 3.86878C3.6836 3.38818 4.39793 3.19236 5.48606 3.11256V2.01923C5.48606 1.73247 5.73991 1.5 6.05305 1.5Z"
                  fill="currentColor" />
                <path opacity="0.3"
                  d="M17.333 10.5V9C17.333 8.37072 17.3235 7.24895 17.3138 6.75H2.3374C2.32773 7.24895 2.33724 8.37072 2.33724 9V10.5C2.33724 13.3284 2.33724 14.7426 3.21567 15.6213C4.0941 16.5 5.50792 16.5 8.33555 16.5H11.3347C14.1623 16.5 15.5761 16.5 16.4546 15.6213C17.333 14.7426 17.333 13.3284 17.333 10.5Z"
                  fill="currentColor" />
                <path
                  d="M14.333 12.375C14.333 12.9963 13.8293 13.5 13.208 13.5C12.5867 13.5 12.083 12.9963 12.083 12.375C12.083 11.7537 12.5867 11.25 13.208 11.25C13.8293 11.25 14.333 11.7537 14.333 12.375Z"
                  fill="currentColor" />
              </g>
              <defs>
                <clipPath id="clip0_1087_19404">
                  <rect width="18" height="18" fill="white" transform="translate(0.833008)" />
                </clipPath>
              </defs>
            </svg>
            Interviewee
          </span>
          <span class="tab-count">
            <span class="count-item">
              <svg class="offer-icon" xmlns="http://www.w3.org/2000/svg" width="6" height="6" viewBox="0 0 6 6"
                fill="none">
                <path
                  d="M6 3C6 4.65685 4.65685 6 3 6C1.34315 6 0 4.65685 0 3C0 1.34315 1.34315 0 3 0C4.65685 0 6 1.34315 6 3Z"
                  fill="currentColor" />
              </svg>
              {{ applicantCounts.interviewsUpcoming }}
            </span>
            <span class="count-item interview-accepted">
              <svg class="offer-icon" xmlns="http://www.w3.org/2000/svg" width="6" height="6" viewBox="0 0 6 6"
                fill="none">
                <path
                  d="M5.03033 1.46967C5.22559 1.66493 5.22559 1.97154 5.03033 2.1668L2.46967 4.72746C2.27441 4.92272 1.9678 4.92272 1.77254 4.72746L0.469671 3.42459C0.274408 3.22933 0.274408 2.92272 0.469671 2.72746C0.664933 2.5322 0.971544 2.5322 1.1668 2.72746L2.11811 3.67877L4.33533 1.46967C4.53059 1.27441 4.83721 1.27441 5.03247 1.46967L5.03033 1.46967Z"
                  fill="currentColor" />
              </svg>
              {{ applicantCounts.interviewsPrevious }}
            </span>
          </span>
        </span>
      </li>

      <li class="nav-item" [class.active]="activeTab === 'qualified'" (click)="setActiveTab('qualified')">
        <span class="nav-link nav-link-wrapper">
          <span class="tab-header">
            <svg width="19" height="18" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path opacity="0.3"
                d="M9.6665 12C5.34654 12 4.58126 7.69466 4.44568 4.27985C4.40797 3.32998 4.38912 2.85505 4.74591 2.41562C5.10269 1.9762 5.52972 1.90415 6.38377 1.76006C7.22681 1.61782 8.32884 1.5 9.6665 1.5C11.0042 1.5 12.1062 1.61782 12.9492 1.76006C13.8033 1.90415 14.2303 1.9762 14.5871 2.41562C14.9439 2.85505 14.925 3.32998 14.8873 4.27985C14.7517 7.69466 13.9865 12 9.6665 12Z"
                fill="currentColor" />
              <path
                d="M13.8968 9.31652L16.0092 8.14293C16.5735 7.82942 16.8556 7.67266 17.011 7.40857C17.1664 7.14448 17.1664 6.82171 17.1665 6.17615L17.1665 6.12175C17.1665 5.33905 17.1665 4.94769 16.9541 4.65306C16.7418 4.35843 16.3705 4.23467 15.628 3.98716L14.9165 3.75L14.9038 3.81348C14.9003 3.95543 14.8942 4.11005 14.8874 4.27984C14.8212 5.94813 14.6047 7.82899 13.8968 9.31652Z"
                fill="currentColor" />
              <path
                d="M4.44581 4.27985C4.51204 5.94822 4.72859 7.82916 5.43657 9.31672L3.32379 8.14293C2.75948 7.82942 2.47732 7.67266 2.32192 7.40857C2.16653 7.14448 2.16652 6.82171 2.16651 6.17615L2.1665 6.12175C2.16648 5.33905 2.16647 4.94769 2.37883 4.65306C2.59118 4.35843 2.96245 4.23467 3.70499 3.98716L4.41646 3.75L4.42947 3.81503C4.43297 3.95656 4.43909 4.11067 4.44581 4.27985Z"
                fill="currentColor" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M4.604 16.5C4.604 16.1893 4.85584 15.9375 5.1665 15.9375H14.1665C14.4772 15.9375 14.729 16.1893 14.729 16.5C14.729 16.8107 14.4772 17.0625 14.1665 17.0625H5.1665C4.85584 17.0625 4.604 16.8107 4.604 16.5Z"
                fill="currentColor" />
              <path opacity="0.3"
                d="M12.2596 15.9375H7.07324L7.29585 14.6251C7.36597 14.2746 7.67378 14.0222 8.03129 14.0222H11.3016C11.6591 14.0222 11.9669 14.2746 12.037 14.6251L12.2596 15.9375Z"
                fill="currentColor" />
              <path
                d="M9.66662 12.0001C9.47195 12.0001 9.2845 11.9914 9.104 11.9744V14.0222H10.229V11.9744C10.0486 11.9914 9.8612 12.0001 9.66662 12.0001Z"
                fill="currentColor" />
            </svg>
            Qualified
          </span>
          <span class="tab-count">
            <span class="count-item">
              <svg class="offer-icon" xmlns="http://www.w3.org/2000/svg" width="6" height="6" viewBox="0 0 6 6"
                fill="none">
                <path
                  d="M6 3C6 4.65685 4.65685 6 3 6C1.34315 6 0 4.65685 0 3C0 1.34315 1.34315 0 3 0C4.65685 0 6 1.34315 6 3Z"
                  fill="currentColor" />
              </svg>
              {{ applicantCounts.qualifiers }}
            </span>
          </span>
        </span>
      </li>

      <li class="nav-item" [class.active]="activeTab === 'jobOfferSent'" (click)="setActiveTab('jobOfferSent')">
        <span class="nav-link nav-link-wrapper">
          <span class="tab-header">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M12.1838 5.82011L16.0625 1.94141L16.0605 1.93947C15.1701 1.04901 13.4832 1.61131 10.1094 2.73591L6.2474 4.02324C3.52443 4.9309 2.16294 5.38473 1.77604 6.05024C1.40799 6.68334 1.40799 7.46527 1.77604 8.09837C2.16294 8.76388 3.52443 9.21771 6.2474 10.1254C6.58486 10.2379 6.96451 10.1575 7.2172 9.90719L11.3464 5.81622C11.5787 5.58606 11.9536 5.58781 12.1838 5.82011Z"
                fill="#4A6D97" />
              <path opacity="0.3"
                d="M13.9768 11.7521L15.2642 7.8901C16.388 4.51878 16.9503 2.83188 16.0626 1.94092L12.1839 5.81962C12.414 6.05192 12.4123 6.42682 12.18 6.65697L8.11743 10.6819C7.83891 10.9578 7.75074 11.3802 7.87472 11.7521C8.78237 14.4751 9.23621 15.8366 9.90171 16.2235C10.5348 16.5915 11.3167 16.5915 11.9499 16.2235C12.6154 15.8366 13.0692 14.4751 13.9768 11.7521Z"
                fill="#4A6D97" />
            </svg>

            Job Offer
          </span>
          <span class="tab-count">
            <span class="offer-sent-grey count-item">
              <svg class="offer-icon" xmlns="http://www.w3.org/2000/svg" width="6" height="6" viewBox="0 0 6 6"
                fill="none">
                <path
                  d="M6 3C6 4.65685 4.65685 6 3 6C1.34315 6 0 4.65685 0 3C0 1.34315 1.34315 0 3 0C4.65685 0 6 1.34315 6 3Z"
                  fill="currentColor" />
              </svg>
              {{ applicantCounts.jobOffersSent }}
            </span>
            <span class="offer-accepted count-item">
              <svg class="offer-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"
                fill="none">
                <path
                  d="M10.6872 5.97982C10.8825 6.17508 10.8825 6.49167 10.6872 6.68693L7.35388 10.0203C7.15862 10.2155 6.84203 10.2155 6.64677 10.0203L5.31344 8.68693C5.11818 8.49167 5.11818 8.17508 5.31344 7.97982C5.5087 7.78456 5.82528 7.78456 6.02055 7.97982L7.00033 8.9596L8.49022 7.46971L9.98011 5.97982C10.1754 5.78456 10.492 5.78456 10.6872 5.97982Z"
                  fill="currentColor" />
              </svg>
              {{ applicantCounts.offersAccepted }}
            </span>
            <span class="offer-rejected count-item">
              <svg class="offer-icon" xmlns="http://www.w3.org/2000/svg" width="5" height="5" viewBox="0 0 5 5"
                fill="none">
                <path
                  d="M0.146447 0.146447C0.341709 -0.0488155 0.658291 -0.0488155 0.853553 0.146447L2.16667 1.45957L3.47978 0.14646C3.67504 -0.0488019 3.99162 -0.0488018 4.18689 0.14646C4.38215 0.341722 4.38215 0.658305 4.18689 0.853567L2.87378 2.16667L4.18687 3.47977C4.38213 3.67503 4.38213 3.99161 4.18687 4.18687C3.99161 4.38214 3.67503 4.38214 3.47977 4.18687L2.16667 2.87378L0.853568 4.18689C0.658306 4.38215 0.341723 4.38215 0.146461 4.18689C-0.0488012 3.99162 -0.0488012 3.67504 0.146461 3.47978L1.45957 2.16667L0.146447 0.853553C-0.0488155 0.658291 -0.0488155 0.341709 0.146447 0.146447Z"
                  fill="currentColor" />
              </svg>
              {{ applicantCounts.offersRejected }}
            </span>
          </span>
        </span>
      </li>

      <li class="nav-item" [class.active]="activeTab === 'accepted'" (click)="setActiveTab('accepted')">
        <span class="nav-link nav-link-wrapper">
          <span class="tab-header">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M12 4.5C12 6.15685 10.6569 7.5 9 7.5C7.34315 7.5 6 6.15685 6 4.5C6 2.84315 7.34315 1.5 9 1.5C10.6569 1.5 12 2.84315 12 4.5Z" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M12.375 16.5C11.1376 16.5 10.5188 16.5 10.1344 16.1156C9.75 15.7312 9.75 15.1124 9.75 13.875C9.75 12.6376 9.75 12.0188 10.1344 11.6344C10.5188 11.25 11.1376 11.25 12.375 11.25C13.6124 11.25 14.2312 11.25 14.6156 11.6344C15 12.0188 15 12.6376 15 13.875C15 15.1124 15 15.7312 14.6156 16.1156C14.2312 16.5 13.6124 16.5 12.375 16.5ZM11.5177 12.399C11.3468 12.2281 11.0698 12.2281 10.899 12.399C10.7281 12.5698 10.7281 12.8468 10.899 13.0177L11.7563 13.875L10.899 14.7323C10.7281 14.9032 10.7281 15.1802 10.899 15.351C11.0698 15.5219 11.3468 15.5219 11.5177 15.351L12.375 14.4937L13.2323 15.351C13.4032 15.5219 13.6802 15.5219 13.851 15.351C14.0219 15.1802 14.0219 14.9032 13.851 14.7323L12.9937 13.875L13.851 13.0177C14.0219 12.8468 14.0219 12.5698 13.851 12.399C13.6802 12.2281 13.4032 12.2281 13.2323 12.399L12.375 13.2563L11.5177 12.399Z" />
              <path opacity="0.3"
                d="M10.858 16.4406C10.3134 16.4796 9.69723 16.5 9 16.5C3 16.5 3 14.989 3 13.125C3 11.261 5.68629 9.75 9 9.75C11.1604 9.75 13.0542 10.3923 14.1107 11.3559C13.7235 11.25 13.1803 11.25 12.375 11.25C11.1376 11.25 10.5188 11.25 10.1344 11.6344C9.75 12.0188 9.75 12.6376 9.75 13.875C9.75 15.1124 9.75 15.7312 10.1344 16.1156C10.3126 16.2937 10.541 16.3893 10.858 16.4406Z" />
            </svg>
            Accepted
          </span>
          <span class="tab-count">
            <span class="offer-accepted count-item">
              {{ applicantCounts.accepted }}
            </span>
          </span>
        </span>
      </li>

      <li class="nav-item" [class.active]="activeTab === 'offerRejected'" (click)="setActiveTab('offerRejected')">
        <span class="nav-link nav-link-wrapper">
          <span class="tab-header">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0_1087_19421)">
                <path opacity="0.3"
                  d="M7.92051 1.6875C7.83538 1.68749 7.76912 1.68748 7.70643 1.69128C6.9111 1.73944 6.21466 2.24141 5.91746 2.98069C5.89351 3.04027 5.87222 3.10397 5.84375 3.18938C5.78124 3.35763 5.63779 3.54899 5.43691 3.70189C5.41454 3.71892 5.39209 3.73499 5.36963 3.75013L6.82613 3.75C6.84777 3.70533 6.86773 3.65991 6.88585 3.61381L6.88701 3.61119L6.89013 3.60376L6.89379 3.59467L6.89723 3.5857L6.89995 3.57824L6.90129 3.57448L6.90447 3.5653L6.90734 3.55683L6.90891 3.55213L6.91096 3.54587L6.91264 3.5406L6.91398 3.53626C6.9431 3.44904 6.95261 3.42185 6.96127 3.40032C7.09636 3.06428 7.41292 2.83611 7.77444 2.81422C7.79863 2.81275 7.82829 2.8125 7.93582 2.8125H10.0641C10.1717 2.8125 10.2013 2.81275 10.2255 2.81422C10.587 2.83611 10.9036 3.06428 11.0387 3.40032C11.0472 3.42153 11.0563 3.44773 11.0858 3.53624L11.0871 3.54053L11.0888 3.54584L11.0909 3.5521L11.0924 3.5568L11.0953 3.56525L11.0985 3.57441L11.0998 3.57817L11.1025 3.58561L11.1059 3.59453L11.1096 3.60354L11.1126 3.61087L11.1138 3.61358C11.132 3.65976 11.152 3.70525 11.1736 3.75L12.63 3.75013C12.6076 3.735 12.5852 3.71893 12.5628 3.70192C12.362 3.54904 12.2186 3.35769 12.156 3.18941L12.1538 3.1826C12.1269 3.10185 12.1059 3.03895 12.0825 2.98069C11.7853 2.24141 11.0888 1.73944 10.2935 1.69128C10.2308 1.68748 10.1646 1.68749 10.0794 1.6875H7.92051Z"
                  fill="currentColor" />
                <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M12.8943 3.75H5.10574C3.84021 3.75 3.20744 3.75 2.72451 3.99729C2.30432 4.21244 1.96244 4.55432 1.74729 4.97451C1.5 5.45744 1.5 6.09021 1.5 7.35574C1.5 7.67747 1.5 7.83833 1.55502 7.97395C1.60307 8.09238 1.68059 8.19657 1.78022 8.27662C1.89431 8.36829 2.04839 8.41452 2.35655 8.50696L6.375 9.7125V10.622C6.375 11.1962 6.71954 11.7256 7.26512 11.9472L7.68519 12.1179C8.52891 12.4607 9.47109 12.4607 10.3148 12.1179L10.7349 11.9472C11.2805 11.7256 11.625 11.1962 11.625 10.622V9.7125L15.6435 8.50696C15.9516 8.41452 16.1057 8.36829 16.2198 8.27662C16.3194 8.19657 16.3969 8.09238 16.445 7.97395C16.5 7.83833 16.5 7.67747 16.5 7.35574C16.5 6.09021 16.5 5.45744 16.2527 4.97451C16.0376 4.55432 15.6957 4.21244 15.2755 3.99729C14.7926 3.75 14.1598 3.75 12.8943 3.75ZM10.2 9H7.8C7.63431 9 7.5 9.13643 7.5 9.30472V10.622C7.5 10.7466 7.57469 10.8587 7.68858 10.905L8.10866 11.0756C8.68085 11.3081 9.31915 11.3081 9.89134 11.0756L10.3114 10.905C10.4253 10.8587 10.5 10.7466 10.5 10.622V9.30472C10.5 9.13643 10.3657 9 10.2 9Z"
                  fill="currentColor" />
                <path opacity="0.3"
                  d="M2.25 8.47491C2.28334 8.48502 2.31879 8.49566 2.35655 8.50698L6.375 9.71252V10.6221C6.375 11.1962 6.71954 11.7256 7.26512 11.9472L7.68519 12.1179C8.52891 12.4607 9.47109 12.4607 10.3148 12.1179L10.7349 11.9472C11.2805 11.7256 11.625 11.1962 11.625 10.6221V9.71252L15.6435 8.50698C15.6812 8.49566 15.7166 8.48503 15.75 8.47493V9.22497C15.7493 11.9814 15.7238 14.766 14.7615 15.6214C13.773 16.5001 12.182 16.5001 8.99998 16.5001C5.818 16.5001 4.22701 16.5001 3.2385 15.6214C2.27617 14.766 2.25068 11.9814 2.25 9.22497V8.47491Z"
                  fill="currentColor" />
              </g>
              <defs>
                <clipPath id="clip0_1087_19421">
                  <rect width="18" height="18" fill="white" />
                </clipPath>
              </defs>
            </svg>
            Offer Rejected
          </span>
          <span class="tab-count">
            <span class="count-item offer-rejected">
              <svg class="offer-icon" xmlns="http://www.w3.org/2000/svg" width="6" height="6" viewBox="0 0 6 6"
                fill="none">
                <path
                  d="M1.46967 0.46967C1.76256 0.176777 2.23744 0.176777 2.53033 0.46967L3 0.93934L3.46967 0.46967C3.76256 0.176777 4.23744 0.176777 4.53033 0.46967C4.82322 0.76256 4.82322 1.23744 4.53033 1.53033L4.06066 2L4.53033 2.46967C4.82322 2.76256 4.82322 3.23744 4.53033 3.53033C4.23744 3.82322 3.76256 3.82322 3.46967 3.53033L3 3.06066L2.53033 3.53033C2.23744 3.82322 1.76256 3.82322 1.46967 3.53033C1.17678 3.23744 1.17678 2.76256 1.46967 2.46967L1.93934 2L1.46967 1.53033C1.17678 1.23744 1.17678 0.76256 1.46967 0.46967Z"
                  fill="currentColor" />
              </svg>
              {{ applicantCounts.rejected }}
            </span>
          </span>
        </span>
      </li>

      <!-- <li class="nav-item" [class.active]="activeTab === 'offerSent'" (click)="setActiveTab('offerSent')">
        <span class="nav-link nav-link-wrapper">
          <span class="tab-header">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M12 4.5C12 6.15685 10.6569 7.5 9 7.5C7.34315 7.5 6 6.15685 6 4.5C6 2.84315 7.34315 1.5 9 1.5C10.6569 1.5 12 2.84315 12 4.5Z"
                fill="currentColor" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M12.375 16.5C11.1376 16.5 10.5188 16.5 10.1344 16.1156C9.75 15.7312 9.75 15.1124 9.75 13.875C9.75 12.6376 9.75 12.0188 10.1344 11.6344C10.5188 11.25 11.1376 11.25 12.375 11.25C13.6124 11.25 14.2312 11.25 14.6156 11.6344C15 12.0188 15 12.6376 15 13.875C15 15.1124 15 15.7312 14.6156 16.1156C14.2312 16.5 13.6124 16.5 12.375 16.5ZM13.851 13.3094C14.0219 13.1385 14.0219 12.8615 13.851 12.6906C13.6802 12.5198 13.4032 12.5198 13.2323 12.6906L11.7917 14.1313L11.5177 13.8573C11.3468 13.6865 11.0698 13.6865 10.899 13.8573C10.7281 14.0282 10.7281 14.3052 10.899 14.476L11.4823 15.0594C11.6532 15.2302 11.9302 15.2302 12.101 15.0594L13.851 13.3094Z"
                fill="currentColor" />
              <path opacity="0.3"
                d="M10.858 16.4406C10.3134 16.4796 9.69723 16.5 9 16.5C3 16.5 3 14.989 3 13.125C3 11.261 5.68629 9.75 9 9.75C11.1604 9.75 13.0542 10.3923 14.1107 11.3559C13.7235 11.25 13.1803 11.25 12.375 11.25C11.1376 11.25 10.5188 11.25 10.1344 11.6344C9.75 12.0188 9.75 12.6376 9.75 13.875C9.75 15.1124 9.75 15.7312 10.1344 16.1156C10.3126 16.2937 10.541 16.3893 10.858 16.4406Z"
                fill="currentColor" />
            </svg>
            Offer Sent
          </span>
          <span class="tab-count">
            <span class="count-item offer-sent-grey">
              <svg class="offer-icon" xmlns="http://www.w3.org/2000/svg" width="6" height="6" viewBox="0 0 6 6"
                fill="none">
                <path
                  d="M6 3C6 4.65685 4.65685 6 3 6C1.34315 6 0 4.65685 0 3C0 1.34315 1.34315 0 3 0C4.65685 0 6 1.34315 6 3Z"
                  fill="currentColor" />
              </svg>
              {{ applicantCounts.jobOffersSent }}
            </span>
            <span class="count-item offer-accepted">
              <svg class="offer-icon" xmlns="http://www.w3.org/2000/svg" width="6" height="6" viewBox="0 0 6 6"
                fill="none">
                <path
                  d="M5.03033 1.46967C5.22559 1.66493 5.22559 1.97154 5.03033 2.1668L2.46967 4.72746C2.27441 4.92272 1.9678 4.92272 1.77254 4.72746L0.469671 3.42459C0.274408 3.22933 0.274408 2.92272 0.469671 2.72746C0.664933 2.5322 0.971544 2.5322 1.1668 2.72746L2.11811 3.67877L4.33533 1.46967C4.53059 1.27441 4.83721 1.27441 5.03247 1.46967L5.03033 1.46967Z"
                  fill="currentColor" />
              </svg>
              {{ applicantCounts.offersAccepted }}
            </span>
            <span class="count-item offer-rejected">
              <svg class="offer-icon" xmlns="http://www.w3.org/2000/svg" width="6" height="6" viewBox="0 0 6 6"
                fill="none">
                <path
                  d="M1.46967 0.46967C1.76256 0.176777 2.23744 0.176777 2.53033 0.46967L3 0.93934L3.46967 0.46967C3.76256 0.176777 4.23744 0.176777 4.53033 0.46967C4.82322 0.76256 4.82322 1.23744 4.53033 1.53033L4.06066 2L4.53033 2.46967C4.82322 2.76256 4.82322 3.23744 4.53033 3.53033C4.23744 3.82322 3.76256 3.82322 3.46967 3.53033L3 3.06066L2.53033 3.53033C2.23744 3.82322 1.76256 3.82322 1.46967 3.53033C1.17678 3.23744 1.17678 2.76256 1.46967 2.46967L1.93934 2L1.46967 1.53033C1.17678 1.23744 1.17678 0.76256 1.46967 0.46967Z"
                  fill="currentColor" />
              </svg>
              {{ applicantCounts.offersRejected }}
            </span>
          </span>
        </span>
      </li>

      <li class="nav-item" [class.active]="activeTab === 'offerAccepted'" (click)="setActiveTab('offerAccepted')">
        <span class="nav-link nav-link-wrapper">
          <span class="tab-header">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M12 4.5C12 6.15685 10.6569 7.5 9 7.5C7.34315 7.5 6 6.15685 6 4.5C6 2.84315 7.34315 1.5 9 1.5C10.6569 1.5 12 2.84315 12 4.5Z"
                fill="currentColor" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M12.375 16.5C11.1376 16.5 10.5188 16.5 10.1344 16.1156C9.75 15.7312 9.75 15.1124 9.75 13.875C9.75 12.6376 9.75 12.0188 10.1344 11.6344C10.5188 11.25 11.1376 11.25 12.375 11.25C13.6124 11.25 14.2312 11.25 14.6156 11.6344C15 12.0188 15 12.6376 15 13.875C15 15.1124 15 15.7312 14.6156 16.1156C14.2312 16.5 13.6124 16.5 12.375 16.5ZM13.851 13.3094C14.0219 13.1385 14.0219 12.8615 13.851 12.6906C13.6802 12.5198 13.4032 12.5198 13.2323 12.6906L11.7917 14.1313L11.5177 13.8573C11.3468 13.6865 11.0698 13.6865 10.899 13.8573C10.7281 14.0282 10.7281 14.3052 10.899 14.476L11.4823 15.0594C11.6532 15.2302 11.9302 15.2302 12.101 15.0594L13.851 13.3094Z"
                fill="currentColor" />
              <path opacity="0.3"
                d="M10.858 16.4406C10.3134 16.4796 9.69723 16.5 9 16.5C3 16.5 3 14.989 3 13.125C3 11.261 5.68629 9.75 9 9.75C11.1604 9.75 13.0542 10.3923 14.1107 11.3559C13.7235 11.25 13.1803 11.25 12.375 11.25C11.1376 11.25 10.5188 11.25 10.1344 11.6344C9.75 12.0188 9.75 12.6376 9.75 13.875C9.75 15.1124 9.75 15.7312 10.1344 16.1156C10.3126 16.2937 10.541 16.3893 10.858 16.4406Z"
                fill="currentColor" />
            </svg>
            Offer Accepted
          </span>
          <span class="tab-count">
            <span class="count-item offer-accepted">
              <svg class="offer-icon" xmlns="http://www.w3.org/2000/svg" width="6" height="6" viewBox="0 0 6 6"
                fill="none">
                <path
                  d="M5.03033 1.46967C5.22559 1.66493 5.22559 1.97154 5.03033 2.1668L2.46967 4.72746C2.27441 4.92272 1.9678 4.92272 1.77254 4.72746L0.469671 3.42459C0.274408 3.22933 0.274408 2.92272 0.469671 2.72746C0.664933 2.5322 0.971544 2.5322 1.1668 2.72746L2.11811 3.67877L4.33533 1.46967C4.53059 1.27441 4.83721 1.27441 5.03247 1.46967L5.03033 1.46967Z"
                  fill="currentColor" />
              </svg>
              {{ applicantCounts.accepted }}
            </span>
          </span>
        </span>
      </li> -->
    </ul>


    <app-table [data]="applicant" [isLoading]="applicantsLoading" [totalItems]="totalItems"
      [itemsPerPage]="itemsPerPage" [currentPage]="currentPage" (pageChange)="onPageChange($event)"
      (itemsPerPageChange)="onItemsPerPageChange($event)" [columnsCount]="5" [headerTemplate]="applicantTableHeader"
      [rowTemplate]="applicantTableRow" [emptyTemplate]="noApplicants"></app-table>

    <ng-template #applicantTableHeader>
      <th (click)="sortBy('name')" style="cursor: pointer;">
        <div class="d-flex align-items-center justify-content-between">
          <span>Name</span>
          @if (sortDirection === 'desc') {
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
            <g fill="none" stroke="#DDE3EB" stroke-linecap="round" stroke-width="1.5">
              <path d="M4 8h9m-7 5h7m-5 5h5" />
              <path stroke-linejoin="round" d="M17 20V4l3 4" />
            </g>
          </svg>
          }
          @if (sortDirection === 'asc') {
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
            <path fill="#DDE3EB" fill-rule="evenodd"
              d="M17 3.25a.75.75 0 0 1 .75.75v13.75l1.65-2.2a.75.75 0 1 1 1.2.9l-3 4a.75.75 0 0 1-1.35-.45V4a.75.75 0 0 1 .75-.75M7.25 6A.75.75 0 0 1 8 5.25h5a.75.75 0 0 1 0 1.5H8A.75.75 0 0 1 7.25 6m-2 5a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 0 1.5H6a.75.75 0 0 1-.75-.75m-2 5a.75.75 0 0 1 .75-.75h9a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.75-.75"
              clip-rule="evenodd" />
          </svg>
          }
        </div>
      </th>

      <th>Phone number</th>
      <th>Email</th>
      <th>Status</th>
      <th>Action</th>

    </ng-template>

    <ng-template #applicantTableRow let-application let-i="index">
      <td>
        <span class="d-block text-gray-sm">{{ application.id.toString().padStart(4, '0') }}</span>
        <span class="d-block text-truncate" style="max-width: 200px;">
          {{ application.name }}
        </span>
      </td>
      <td>
        <div class="d-flex align-items-center gap-2">
          <span>{{ application.phoneNumber }}</span>
          <button (click)="copyToClipboard(application.phoneNumber, 'phone-' + application.id)" class="copy-icon-btn"
            [attr.title]="'Copy phone number'" [class.copied]="copiedSectionId === 'phone-' + application.id">
            @if (copiedSectionId === 'phone-' + application.id) {
            <svg width="15" height="17" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z" fill="#10b981" />
            </svg>
            } @else {
            <svg xmlns="http://www.w3.org/2000/svg" width="15" height="17" viewBox="0 0 15 17" fill="none">
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M9.5625 2.3717e-07H6.52019C5.14187 -1.15211e-05 4.05014 -2.0843e-05 3.19573 0.114852C2.31642 0.233073 1.60471 0.48216 1.04343 1.04343C0.48216 1.60471 0.233073 2.31642 0.114852 3.19573C-2.08318e-05 4.05014 -1.15211e-05 5.14186 2.37168e-07 6.52018V11.0625C2.37168e-07 12.4667 1.02904 13.6305 2.37414 13.841C2.47761 14.414 2.67565 14.9031 3.07376 15.3012C3.5252 15.7527 4.09361 15.9468 4.76869 16.0376C5.41891 16.125 6.24565 16.125 7.27135 16.125H9.60365C10.6293 16.125 11.4561 16.125 12.1063 16.0376C12.7814 15.9468 13.3498 15.7527 13.8012 15.3012C14.2527 14.8498 14.4468 14.2814 14.5376 13.6063C14.625 12.9561 14.625 12.1293 14.625 11.1037V7.27135C14.625 6.24565 14.625 5.41891 14.5376 4.76869C14.4468 4.09361 14.2527 3.5252 13.8012 3.07376C13.4031 2.67565 12.914 2.47761 12.341 2.37414C12.1305 1.02904 10.9667 2.3717e-07 9.5625 2.3717e-07ZM11.1595 2.26588C10.9324 1.60218 10.3032 1.125 9.5625 1.125H6.5625C5.13239 1.125 4.11639 1.1262 3.34564 1.22982C2.59107 1.33127 2.15634 1.52152 1.83893 1.83893C1.52152 2.15634 1.33127 2.59107 1.22982 3.34564C1.1262 4.11639 1.125 5.13238 1.125 6.5625V11.0625C1.125 11.8032 1.60218 12.4324 2.26588 12.6595C2.24998 12.202 2.24999 11.6848 2.25 11.1037V7.27134C2.24998 6.24565 2.24997 5.41891 2.33739 4.76869C2.42816 4.09361 2.62233 3.5252 3.07376 3.07376C3.5252 2.62233 4.09361 2.42816 4.76869 2.33739C5.41891 2.24997 6.24565 2.24998 7.27134 2.25H9.60366C10.1848 2.24999 10.702 2.24998 11.1595 2.26588ZM3.86926 3.86926C4.07683 3.66169 4.36826 3.52635 4.91859 3.45236C5.4851 3.3762 6.23594 3.375 7.3125 3.375H9.5625C10.6391 3.375 11.3899 3.3762 11.9564 3.45236C12.5067 3.52635 12.7982 3.66169 13.0057 3.86926C13.2133 4.07683 13.3487 4.36826 13.4226 4.91859C13.4988 5.4851 13.5 6.23594 13.5 7.3125V11.0625C13.5 12.1391 13.4988 12.8899 13.4226 13.4564C13.3487 14.0067 13.2133 14.2982 13.0057 14.5057C12.7982 14.7133 12.5067 14.8487 11.9564 14.9226C11.3899 14.9988 10.6391 15 9.5625 15H7.3125C6.23594 15 5.4851 14.9988 4.91859 14.9226C4.36826 14.8487 4.07683 14.7133 3.86926 14.5057C3.66169 14.2982 3.52635 14.0067 3.45236 13.4564C3.3762 12.8899 3.375 12.1391 3.375 11.0625V7.3125C3.375 6.23594 3.3762 5.4851 3.45236 4.91859C3.52635 4.36826 3.66169 4.07683 3.86926 3.86926Z"
                fill="#4A6D97" />
            </svg>
            }
          </button>
        </div>
      </td>
      <td>
        <div class="d-flex align-items-center gap-2">
          <span>{{ application.email }}</span>
          <button (click)="copyToClipboard(application.email, 'email-' + application.id)" class="copy-icon-btn"
            [attr.title]="'Copy email'" [class.copied]="copiedSectionId === 'email-' + application.id">
            @if (copiedSectionId === 'email-' + application.id) {
            <svg width="15" height="17" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z" fill="#10b981" />
            </svg>
            } @else {
            <svg xmlns="http://www.w3.org/2000/svg" width="15" height="17" viewBox="0 0 15 17" fill="none">
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M9.5625 2.3717e-07H6.52019C5.14187 -1.15211e-05 4.05014 -2.0843e-05 3.19573 0.114852C2.31642 0.233073 1.60471 0.48216 1.04343 1.04343C0.48216 1.60471 0.233073 2.31642 0.114852 3.19573C-2.08318e-05 4.05014 -1.15211e-05 5.14186 2.37168e-07 6.52018V11.0625C2.37168e-07 12.4667 1.02904 13.6305 2.37414 13.841C2.47761 14.414 2.67565 14.9031 3.07376 15.3012C3.5252 15.7527 4.09361 15.9468 4.76869 16.0376C5.41891 16.125 6.24565 16.125 7.27135 16.125H9.60365C10.6293 16.125 11.4561 16.125 12.1063 16.0376C12.7814 15.9468 13.3498 15.7527 13.8012 15.3012C14.2527 14.8498 14.4468 14.2814 14.5376 13.6063C14.625 12.9561 14.625 12.1293 14.625 11.1037V7.27135C14.625 6.24565 14.625 5.41891 14.5376 4.76869C14.4468 4.09361 14.2527 3.5252 13.8012 3.07376C13.4031 2.67565 12.914 2.47761 12.341 2.37414C12.1305 1.02904 10.9667 2.3717e-07 9.5625 2.3717e-07ZM11.1595 2.26588C10.9324 1.60218 10.3032 1.125 9.5625 1.125H6.5625C5.13239 1.125 4.11639 1.1262 3.34564 1.22982C2.59107 1.33127 2.15634 1.52152 1.83893 1.83893C1.52152 2.15634 1.33127 2.59107 1.22982 3.34564C1.1262 4.11639 1.125 5.13238 1.125 6.5625V11.0625C1.125 11.8032 1.60218 12.4324 2.26588 12.6595C2.24998 12.202 2.24999 11.6848 2.25 11.1037V7.27134C2.24998 6.24565 2.24997 5.41891 2.33739 4.76869C2.42816 4.09361 2.62233 3.5252 3.07376 3.07376C3.5252 2.62233 4.09361 2.42816 4.76869 2.33739C5.41891 2.24997 6.24565 2.24998 7.27134 2.25H9.60366C10.1848 2.24999 10.702 2.24998 11.1595 2.26588ZM3.86926 3.86926C4.07683 3.66169 4.36826 3.52635 4.91859 3.45236C5.4851 3.3762 6.23594 3.375 7.3125 3.375H9.5625C10.6391 3.375 11.3899 3.3762 11.9564 3.45236C12.5067 3.52635 12.7982 3.66169 13.0057 3.86926C13.2133 4.07683 13.3487 4.36826 13.4226 4.91859C13.4988 5.4851 13.5 6.23594 13.5 7.3125V11.0625C13.5 12.1391 13.4988 12.8899 13.4226 13.4564C13.3487 14.0067 13.2133 14.2982 13.0057 14.5057C12.7982 14.7133 12.5067 14.8487 11.9564 14.9226C11.3899 14.9988 10.6391 15 9.5625 15H7.3125C6.23594 15 5.4851 14.9988 4.91859 14.9226C4.36826 14.8487 4.07683 14.7133 3.86926 14.5057C3.66169 14.2982 3.52635 14.0067 3.45236 13.4564C3.3762 12.8899 3.375 12.1391 3.375 11.0625V7.3125C3.375 6.23594 3.3762 5.4851 3.45236 4.91859C3.52635 4.36826 3.66169 4.07683 3.86926 3.86926Z"
                fill="#4A6D97" />
            </svg>
            }
          </button>
        </div>
      </td>
      <td>
        <span class="d-block text-gray-sm">{{ application.status }}</span>
        <span class="d-block text-truncate" style="max-width: 200px;">
          {{ application.statusAt | date:'dd/MM/yyyy h:mm a' }}
        </span>
      </td>
      <td>
        <a class="edit-btn h-100 d-flex align-items-center gap-1 w-auto me-2"
          [routerLink]="['/job-openings/view-applicant-details', application.id]">
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24">
            <g fill="none" stroke="currentColor" stroke-width="1.5">
              <path
                d="M3.275 15.296C2.425 14.192 2 13.639 2 12c0-1.64.425-2.191 1.275-3.296C4.972 6.5 7.818 4 12 4s7.028 2.5 8.725 4.704C21.575 9.81 22 10.361 22 12c0 1.64-.425 2.191-1.275 3.296C19.028 17.5 16.182 20 12 20s-7.028-2.5-8.725-4.704Z" />
              <path d="M15 12a3 3 0 1 1-6 0a3 3 0 0 1 6 0Z" />
            </g>
          </svg>
          <span>View</span>
        </a>

        <!-- Job Offer button for Qualified -->
        @if (activeTab === 'qualified') {
        <button class="edit-btn h-100 d-flex align-items-center gap-1 w-auto text-primary"
          (click)="openJobOfferModal(application)">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
            <path fill="currentColor" fill-rule="evenodd"
              d="M18.144 3.63c-1.17.209-2.748.733-4.961 1.47L8.17 6.77c-1.78.594-3.069 1.025-3.98 1.412c-.952.405-1.29.687-1.4.876a1.88 1.88 0 0 0 0 1.886c.11.189.448.471 1.4.876c.911.387 2.2.818 3.98 1.411l.084.028c.38.126.693.23.967.374l5.323-5.265a.768.768 0 1 1 1.08 1.093l-5.3 5.241c.166.292.278.628.416 1.043l.028.084c.593 1.78 1.024 3.069 1.41 3.98c.406.952.688 1.29.877 1.4a1.88 1.88 0 0 0 1.886 0c.189-.11.471-.448.876-1.4c.387-.911.818-2.2 1.411-3.98l1.67-5.012c.738-2.213 1.262-3.79 1.47-4.96c.21-1.176.05-1.676-.25-1.976s-.8-.46-1.975-.25m-.27-1.512c1.303-.232 2.476-.179 3.331.677c.856.855.909 2.028.677 3.33c-.23 1.295-.792 2.98-1.503 5.112l-1.705 5.115c-.578 1.735-1.027 3.083-1.442 4.058c-.4.94-.844 1.736-1.518 2.128a3.41 3.41 0 0 1-3.43 0c-.674-.392-1.118-1.188-1.518-2.128c-.415-.975-.864-2.323-1.443-4.058l-.012-.038c-.203-.607-.264-.772-.352-.903a1.4 1.4 0 0 0-.37-.37c-.13-.088-.296-.15-.904-.352l-.037-.012c-1.735-.579-3.083-1.028-4.058-1.443c-.94-.4-1.736-.844-2.128-1.518a3.41 3.41 0 0 1 0-3.43c.392-.674 1.188-1.118 2.128-1.518c.975-.415 2.323-.864 4.059-1.442l5.114-1.705c2.133-.711 3.817-1.273 5.112-1.503"
              clip-rule="evenodd" />
          </svg>
          <span>Job Offer</span>
        </button>
        }

        <!-- Conditional buttons based on status for Job Offer Sent -->
        @if (activeTab === 'accepted') {
        <!-- Accepted applicant - Add as Employee button -->
        <button class="edit-btn h-100 d-flex align-items-center gap-1 w-auto text-primary"
          (click)="navigateToCreateEmployee(application)">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
            <path fill-rule="evenodd" clip-rule="evenodd"
              d="M9.0001 0.9375C7.03259 0.9375 5.4376 2.53249 5.4376 4.5C5.4376 6.46751 7.03259 8.0625 9.0001 8.0625C10.9676 8.0625 12.5626 6.46751 12.5626 4.5C12.5626 2.53249 10.9676 0.9375 9.0001 0.9375ZM6.5626 4.5C6.5626 3.15381 7.65391 2.0625 9.0001 2.0625C10.3463 2.0625 11.4376 3.15381 11.4376 4.5C11.4376 5.84619 10.3463 6.9375 9.0001 6.9375C7.65391 6.9375 6.5626 5.84619 6.5626 4.5Z"
              fill="#377AFD" />
            <path
              d="M14.8917 10.9297C15.1147 11.146 15.12 11.5022 14.9036 11.7251L13.5288 13.1418C13.4177 13.2562 13.2632 13.3181 13.1038 13.3121C12.9445 13.3061 12.7951 13.2327 12.693 13.1101L12.0679 12.3601C11.869 12.1215 11.9012 11.7668 12.1398 11.5679C12.3785 11.369 12.7332 11.4012 12.9321 11.6399L13.1569 11.9096L14.0963 10.9416C14.3127 10.7187 14.6688 10.7133 14.8917 10.9297Z"
              fill="#377AFD" />
            <path fill-rule="evenodd" clip-rule="evenodd"
              d="M11.0811 9.38468C10.4265 9.25654 9.72644 9.1875 9.0001 9.1875C7.26494 9.1875 5.66629 9.58191 4.48169 10.2483C3.31471 10.9047 2.4376 11.8995 2.4376 13.125L2.43755 13.2015C2.4367 14.0729 2.43564 15.1665 3.39491 15.9477C3.86701 16.3321 4.52746 16.6055 5.41976 16.7861C6.31455 16.9672 7.48077 17.0625 9.0001 17.0625C11.1512 17.0625 12.6075 16.8721 13.5898 16.5064C14.474 16.1772 14.998 15.695 15.2779 15.0879C16.3446 14.4724 17.0626 13.3201 17.0626 12C17.0626 10.0325 15.4676 8.4375 13.5001 8.4375C12.5663 8.4375 11.7164 8.79679 11.0811 9.38468ZM11.0626 12C11.0626 10.6538 12.1539 9.5625 13.5001 9.5625C14.8463 9.5625 15.9376 10.6538 15.9376 12C15.9376 13.3462 14.8463 14.4375 13.5001 14.4375C12.1539 14.4375 11.0626 13.3462 11.0626 12ZM10.3169 10.3987C10.0742 10.8801 9.9376 11.4241 9.9376 12C9.9376 13.792 11.2607 15.2749 12.9832 15.5253C12.1802 15.7775 10.9336 15.9375 9.0001 15.9375C7.51943 15.9375 6.43565 15.8439 5.64294 15.6835C4.84774 15.5225 4.38319 15.3016 4.10529 15.0753C3.59284 14.658 3.5626 14.1059 3.5626 13.125C3.5626 12.4865 4.02863 11.7939 5.03323 11.2288C6.0202 10.6736 7.42156 10.3125 9.0001 10.3125C9.45464 10.3125 9.89557 10.3425 10.3169 10.3987Z"
              fill="#377AFD" />
          </svg>
          <span>Create Employee</span>
        </button>
        } @else if (activeTab === 'jobOfferSent') {
        @if (isJobOfferSent(application.status)) {
        <button class="edit-btn h-100 d-flex align-items-center gap-1 w-auto text-primary">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
            <path fill="var(--color-primary-500)" fill-rule="evenodd"
              d="M10.6872 5.97982C10.8825 6.17508 10.8825 6.49167 10.6872 6.68693L7.35388 10.0203C7.15862 10.2155 6.84203 10.2155 6.64677 10.0203L5.31344 8.68693C5.11818 8.49167 5.11818 8.17508 5.31344 7.97982C5.5087 7.78456 5.82528 7.78456 6.02055 7.97982L7.00033 8.9596L8.49022 7.46971L9.98011 5.97982C10.1754 5.78456 10.492 5.78456 10.6872 5.97982Z"
              fill="var(--color-primary-500)" />
            <path fill="var(--color-primary-500)" fill-rule="evenodd"
              d="M12 1.25a4.75 4.75 0 1 0 0 9.5a4.75 4.75 0 0 0 0-9.5M8.75 6a3.25 3.25 0 1 1 6.5 0a3.25 3.25 0 0 1-6.5 0M12 12.25c-2.04 0-3.922.47-5.322 1.27C5.3 14.308 4.25 15.51 4.25 17s1.05 2.692 2.428 3.48c1.4.8 3.283 1.27 5.322 1.27s3.922-.47 5.322-1.27c1.378-.788 2.428-1.99 2.428-3.48s-1.05-2.692-2.428-3.48c-1.4-.8-3.283-1.27-5.322-1.27M5.75 17c0-.72.517-1.517 1.672-2.177c1.134-.648 2.751-1.073 4.578-1.073s3.444.425 4.578 1.073c1.155.66 1.672 1.458 1.672 2.177s-.517 1.517-1.672 2.177c-1.134.648-2.751 1.073-4.578 1.073s-3.444-.425-4.578-1.073C6.267 18.517 5.75 17.72 5.75 17"
              clip-rule="evenodd" />
          </svg>
          <span>Accepted</span>
        </button>
        } @else if (isOfferRejected(application.status)) {
        <button class="edit-btn h-100 d-flex align-items-center gap-1 w-auto text-primary"
          (click)="openJobOfferModal(application)">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
            <path fill="var(--color-primary-500)" fill-rule="evenodd"
              d="M18.144 3.63c-1.17.209-2.748.733-4.961 1.47L8.17 6.77c-1.78.594-3.069 1.025-3.98 1.412c-.952.405-1.29.687-1.4.876a1.88 1.88 0 0 0 0 1.886c.11.189.448.471 1.4.876c.911.387 2.2.818 3.98 1.411l.084.028c.38.126.693.23.967.374l5.323-5.265a.768.768 0 1 1 1.08 1.093l-5.3 5.241c.166.292.278.628.416 1.043l.028.084c.593 1.78 1.024 3.069 1.41 3.98c.406.952.688 1.29.877 1.4a1.88 1.88 0 0 0 1.886 0c.189-.11.471-.448.876-1.4c.387-.911.818-2.2 1.411-3.98l1.67-5.012c.738-2.213 1.262-3.79 1.47-4.96c.21-1.176.05-1.676-.25-1.976s-.8-.46-1.975-.25m-.27-1.512c1.303-.232 2.476-.179 3.331.677c.856.855.909 2.028.677 3.33c-.23 1.295-.792 2.98-1.503 5.112l-1.705 5.115c-.578 1.735-1.027 3.083-1.442 4.058c-.4.94-.844 1.736-1.518 2.128a3.41 3.41 0 0 1-3.43 0c-.674-.392-1.118-1.188-1.518-2.128c-.415-.975-.864-2.323-1.443-4.058l-.012-.038c-.203-.607-.264-.772-.352-.903a1.4 1.4 0 0 0-.37-.37c-.13-.088-.296-.15-.904-.352l-.037-.012c-1.735-.579-3.083-1.028-4.058-1.443c-.94-.4-1.736-.844-2.128-1.518a3.41 3.41 0 0 1 0-3.43c.392-.674 1.188-1.118 2.128-1.518c.975-.415 2.323-.864 4.059-1.442l5.114-1.705c2.133-.711 3.817-1.273 5.112-1.503"
              clip-rule="evenodd" />
          </svg>
          <span>New Offer</span>
        </button>
        }
        }
      </td>
    </ng-template>

    <ng-template #noApplicants>
      <tr>
        <td colspan="5" class="text-center py-5">
          <div class="d-flex flex-column align-items-center justify-content-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 24 24" class="mb-3">
              <g fill="none" stroke="#9CA3AF" stroke-width="1.5">
                <circle cx="12" cy="6" r="4" />
                <path d="M20 17.5c0 2.485 0 4.5-8 4.5s-8-2.015-8-4.5S7.582 13 12 13s8 2.015 8 4.5Z" opacity="0.5" />
              </g>
            </svg>
            <h5 class="text-muted mb-2">No Applicants Found</h5>
            <p class="text-muted text-center mb-0">There are no applicants in this category yet.</p>
          </div>
        </td>
      </tr>
    </ng-template>
  </div>
</div>

<!-- Unarchive confirmation popup -->
<app-popup [title]="'Unarchive Job Opening'" [paragraph1]="'Are you sure you want to unarchive this job opening?'"
  [paragraph2]="'This will move the job opening back to Live status and make it visible to applicants.'"
  [isOpen]="isUnarchiveModalOpen" (close)="closeUnarchiveModal()">
  <button modal-btn-left class="btn btn-lg btn-success w-100" (click)="confirmUnarchive()">
    Confirm Unarchive
  </button>
  <button modal-btn-right class="btn btn-lg btn-outline-dark border-0 w-100" (click)="closeUnarchiveModal()">
    Cancel
  </button>
</app-popup>

<!-- Duplicate confirmation popup -->
<app-popup [title]="'Duplicate Job Opening'"
  [paragraph1]="'Are you sure you want to duplicate this archived job opening?'"
  [paragraph2]="'This will create a new active job opening with the same details.'" [isOpen]="isDuplicateModalOpen"
  (close)="closeDuplicateModal()">
  <button modal-btn-left class="btn btn-lg btn-primary w-100" (click)="confirmDuplicate()">
    Confirm Duplicate
  </button>
  <button modal-btn-right class="btn btn-lg btn-outline-dark border-0 w-100" (click)="closeDuplicateModal()">
    Cancel
  </button>
</app-popup>

<!-- job offer -->
<app-overlay-filter-box #jobBox
  [title]="overlayTitle === 'Job Offer' || overlayTitle === 'Update Job Offer' ? overlayTitle : 'Job Offer'">
  <form class="w-100 d-flex flex-column gap-3" (ngSubmit)="submitJobOffer()">
    @if (jobOfferDetailsLoading && overlayTitle === 'Update Job Offer') {
    <!-- Skeleton loader for all fields -->
    <div class="input placeholder-glow">
      <div class="form-control placeholder col-12 mb-2" style="height: 38px;"></div>
    </div>
    <div class="input placeholder-glow">
      <div class="form-control placeholder col-6 mb-2" style="height: 38px;"></div>
    </div>
    <div class="input placeholder-glow">
      <div class="form-control placeholder col-12 mb-2" style="height: 38px;"></div>
    </div>
    <div class="input placeholder-glow">
      <div class="form-control placeholder col-6 mb-2" style="height: 38px;"></div>
    </div>
    <div class="input placeholder-glow">
      <div class="form-control placeholder col-12 mb-2" style="height: 38px;"></div>
    </div>
    <div class="input placeholder-glow">
      <div class="form-control placeholder col-12 mb-2" style="height: 38px;"></div>
    </div>
    <div class="input placeholder-glow">
      <div class="form-control placeholder col-12 mb-2" style="height: 38px;"></div>
    </div>
    <div class="d-flex align-items-center gap-3 mt-2">
      <div class="btn btn-lg btn-primary w-100 disabled placeholder"></div>
      <div class="btn btn-lg btn-outline-dark border-0 w-100 disabled placeholder"></div>
    </div>
    } @else {
    <div class="input">
      <label>Email</label>
      <input type="email" class="form-control" [value]="jobOfferApplicant?.email || ''" readonly
        style="width: 100%; border-radius: var(--inputs-corner-default, 16px); border: 1px solid var(--inputs-colors-inactive-outline, #93A7C1); box-shadow: none; padding: var(--inputs-spacing-lg-padding, 16px);">
    </div>
    <div class="input d-flex align-items-center gap-2">
      <input type="checkbox" id="probation" class="form-check-input" [(ngModel)]="includeProbation"
        name="includeProbation">
      <label for="probation" class="m-0">Include Probation Period</label>
    </div>
    <div class="input">
      <label for="joinDate">Join Date</label>
      <input type="date" id="joinDate" class="form-control" [(ngModel)]="offerJoinDate" name="joinDate"
        placeholder="dd/mm/yyyy" [class.is-invalid]="jobOfferValidationErrors.joinDate"
        (focus)="validateJoinDateField()" (blur)="validateJoinDateField()" (ngModelChange)="validateJoinDateField()"
        style="border-radius: var(--inputs-corner-default, 16px); border: 1px solid var(--inputs-colors-inactive-outline, #93A7C1); box-shadow: none; padding: var(--inputs-spacing-lg-padding, 16px);">
      @if (jobOfferValidationErrors.joinDate) {
      <div class="text-danger mt-1">{{ jobOfferValidationErrors.joinDate }}</div>
      }
    </div>
    <div class="input d-flex align-items-center gap-2">
      <input type="checkbox" id="withEndDate" class="form-check-input" [(ngModel)]="withEndDate" name="withEndDate">
      <label for="withEndDate" class="m-0">With end date</label>
    </div>
    @if (withEndDate){
    <div class="input">
      <label for="contractEndDate">Contract End Date</label>
      <input type="date" id="contractEndDate" class="form-control" [(ngModel)]="contractEndDate" name="contractEndDate"
        style="border-radius: var(--inputs-corner-default, 16px); border: 1px solid var(--inputs-colors-inactive-outline, #93A7C1); box-shadow: none; padding: var(--inputs-spacing-lg-padding, 16px);">
    </div>
    }
    <div class="input">
      <label for="noticePeriod">Notice Period (in Days)</label>
      <input type="number" id="noticePeriod" class="form-control" [(ngModel)]="noticePeriod" name="noticePeriod"
        placeholder="Enter number of days" [class.is-invalid]="jobOfferValidationErrors.noticePeriod"
        (focus)="onNoticePeriodFocus()" (blur)="validateNoticePeriodField()"
        style="border-radius: var(--inputs-corner-default, 16px); border: 1px solid var(--inputs-colors-inactive-outline, #93A7C1); box-shadow: none; padding: var(--inputs-spacing-lg-padding, 16px);">
      @if (jobOfferValidationErrors.noticePeriod) {
      <div class="text-danger mt-1">{{ jobOfferValidationErrors.noticePeriod }}</div>
      }
    </div>
    @if (overlayTitle === 'Update Job Offer') {
    <div class="d-flex justify-content-between align-items-center mb-1">
      <span class="text-muted">Min. Salary<br><span class="fw-bold">{{ minSalary | number:'1.0-0' }} EGP</span></span>
      <span class="text-muted">Max. Salary<br><span class="fw-bold">{{ maxSalary | number:'1.0-0' }} EGP</span></span>
    </div>
    }
    <div class="input">
      <label for="salary">Salary</label>
      <input type="text" id="salary" class="form-control" [(ngModel)]="offerSalary" name="salary" placeholder="EGP"
        [class.is-invalid]="jobOfferValidationErrors.salary" (focus)="onSalaryFocus()" (blur)="validateSalaryField()"
        style="border-radius: var(--inputs-corner-default, 16px); border: 1px solid var(--inputs-colors-inactive-outline, #93A7C1); box-shadow: none; padding: var(--inputs-spacing-lg-padding, 16px);">
      @if (jobOfferValidationErrors.salary) {
      <div class="text-danger mt-1">{{ jobOfferValidationErrors.salary }}</div>
      }
    </div>
    <div class="input">
      <label for="offerDetails">Offer Details</label>
      <textarea id="offerDetails" class="form-control" rows="4" [(ngModel)]="offerDetails" name="offerDetails"
        placeholder="Enter Offer Details" [class.is-invalid]="jobOfferValidationErrors.offerDetails"
        (focus)="onOfferDetailsFocus()" (blur)="validateOfferDetailsField()"
        style="border-radius: var(--inputs-corner-default, 16px); border: 1px solid var(--inputs-colors-inactive-outline, #93A7C1); box-shadow: none; padding: var(--inputs-spacing-lg-padding, 16px);"></textarea>
      @if (jobOfferValidationErrors.offerDetails && (jobOfferFormSubmitted)) {
      <div class="text-danger mt-1">{{ jobOfferValidationErrors.offerDetails }}</div>
      }
    </div>
    <div class="d-flex align-items-center gap-3 mt-2">
      <button type="submit" class="btn btn-lg btn-primary w-100"
        [disabled]="submitting || !currentJobOfferApplicationId">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <g fill="none" stroke-width="1.5">
            <circle cx="12" cy="12" r="10" />
            <path stroke-linecap="round" stroke-linejoin="round" d="m8.5 12.5l2 2l5-5" />
          </g>
        </svg>
        <span>Send Job Offer</span>
      </button>
      <a class="btn btn-lg btn-outline-dark border-0 w-100" (click)="closeAllOverlays()">
        <span>Discard Job Offer</span>
      </a>
    </div>
    }
  </form>
</app-overlay-filter-box>