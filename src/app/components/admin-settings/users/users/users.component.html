<!-- start page header -->
<app-page-header [breadcrumbs]="[
    { label: 'Admin Settings', link: '/cloud' },
    { label: 'Users' }
  ]" title="Users">

</app-page-header>
<!-- end page header -->

<!-- start page content -->
<div class="content-hug">
    <div class="content-box d-flex flex-column gap-3">
        <!-- start search and filter -->
        <!-- <div
            class="d-flex flex-column flex-lg-row align-items-start align-lg-items-center justify-content-between gap-2">
            <div class="d-flex align-items-center gap-2 w-100 w-lg-50">
                Search input
                <div data-mdb-input-init class="form-outline w-75">
                    <input type="text" class="form-control" [(ngModel)]="searchTerm" (ngModelChange)="onSearchChange()"
                        placeholder="Search" />
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                        <g fill="none" stroke-width="1.5">
                            <circle cx="11.5" cy="11.5" r="9.5" />
                            <path stroke-linecap="round" d="M18.5 18.5L22 22" />
                        </g>
                    </svg>
                </div>

                Filter button
                <button class="btn btn-lg btn-outline-primary" (click)="overlay.openOverlay()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
                        <path fill="none" stroke-width="1.5"
                            d="M19 3H5c-1.414 0-2.121 0-2.56.412S2 4.488 2 5.815v.69c0 1.037 0 1.556.26 1.986s.733.698 1.682 1.232l2.913 1.64c.636.358.955.537 1.183.735c.474.411.766.895.898 1.49c.064.284.064.618.064 1.285v2.67c0 .909 0 1.364.252 1.718c.252.355.7.53 1.594.88c1.879.734 2.818 1.101 3.486.683S15 19.452 15 17.542v-2.67c0-.666 0-1 .064-1.285a2.68 2.68 0 0 1 .899-1.49c.227-.197.546-.376 1.182-.735l2.913-1.64c.948-.533 1.423-.8 1.682-1.23c.26-.43.26-.95.26-1.988v-.69c0-1.326 0-1.99-.44-2.402C21.122 3 20.415 3 19 3Z" />
                    </svg>
                    <span>Filter</span>
                </button>

            </div>

            Add User button
            <button class="btn btn-lg btn-primary" routerLink="/users/add-user">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24">
                    <g fill="none" stroke="#ffffff" stroke-width="1.5">
                        <circle cx="12" cy="12" r="10" />
                        <path stroke-linecap="round" d="M15 12h-3m0 0H9m3 0V9m0 3v3" />
                    </g>
                </svg>
                <span>Add User</span>
            </button>

        </div> -->




        <div class="d-flex flex-column flex-lg-row align-items-center justify-content-between gap-2">
            <div class="d-flex align-items-center gap-2 w-100 w-lg-50">

                <!-- Search input -->
                <div class="form-outline w-75">
                    <input type="text" class="form-control" placeholder="Search for an employee"
                        [(ngModel)]="searchTerm" (ngModelChange)="onSearchChange()" />
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                        <g fill="none" stroke-width="1.5">
                            <circle cx="11.5" cy="11.5" r="9.5" />
                            <path stroke-linecap="round" d="M18.5 18.5L22 22" />
                        </g>
                    </svg>
                </div>

                <!-- Filter button -->
                <button class="btn  btn-outline-primary custom-btn" (click)="overlay.openOverlay()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                        <path fill="none" stroke-width="1.5"
                            d="M19 3H5c-1.414 0-2.121 0-2.56.412S2 4.488 2 5.815v.69c0 1.037 0 1.556.26 1.986s.733.698 1.682 1.232l2.913 1.64c.636.358.955.537 1.183.735c.474.411.766.895.898 1.49c.064.284.064.618.064 1.285v2.67c0 .909 0 1.364.252 1.718c.252.355.7.53 1.594.88c1.879.734 2.818 1.101 3.486.683S15 19.452 15 17.542v-2.67c0-.666 0-1 .064-1.285a2.68 2.68 0 0 1 .899-1.49c.227-.197.546-.376 1.182-.735l2.913-1.64c.948-.533 1.423-.8 1.682-1.23c.26-.43.26-.95.26-1.988v-.69c0-1.326 0-1.99-.44-2.402C21.122 3 20.415 3 19 3Z" />
                    </svg>
                    <span>Filter</span>
                </button>

            </div>

            <div class="d-flex align-items-center justify-content-end gap-2 w-100 w-lg-50">
                <!-- Import Button -->

                <button class="btn-outline-primary import-btn">
                    <svg width="20" height="20" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M8.85225 5.85225C9.07192 5.63258 9.42808 5.63258 9.64775 5.85225C9.86742 6.07192 9.86742 6.42808 9.64775 6.64775L7.39775 8.89775C7.17808 9.11742 6.82192 9.11742 6.60225 8.89775L4.35225 6.64775C4.13258 6.42808 4.13258 6.07192 4.35225 5.85225C4.57192 5.63258 4.92808 5.63258 5.14775 5.85225L6.4375 7.142V1C6.4375 0.68934 6.68934 0.4375 7 0.4375C7.31066 0.4375 7.5625 0.68934 7.5625 1V7.142L8.85225 5.85225Z"
                            fill="#377AFD" />
                        <path
                            d="M13.5625 7C13.5625 6.68934 13.3107 6.4375 13 6.4375C12.6893 6.4375 12.4375 6.68934 12.4375 7C12.4375 10.003 10.003 12.4375 7 12.4375C3.99695 12.4375 1.5625 10.003 1.5625 7C1.5625 6.68934 1.31066 6.4375 1 6.4375C0.68934 6.4375 0.4375 6.68934 0.4375 7C0.4375 10.6244 3.37563 13.5625 7 13.5625C10.6244 13.5625 13.5625 10.6244 13.5625 7Z"
                            fill="#377AFD" />
                    </svg>
                    <span>Import</span>
                </button>


                <!-- Add User button -->
                <button class="btn btn-lg btn-primary" routerLink="/users/add-user">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24">
                        <g fill="none" stroke="#ffffff" stroke-width="1.5">
                            <circle cx="12" cy="12" r="10" />
                            <path stroke-linecap="round" d="M15 12h-3m0 0H9m3 0V9m0 3v3" />
                        </g>
                    </svg>
                    <span>Add User</span>
                </button>

            </div>
        </div>

        <!-- start Table -->


        <app-table [data]="allUsers" [isLoading]="loadData" [columnsCount]="6" [totalItems]="allUsers.length"
            [itemsPerPage]="itemsPerPage" [currentPage]="currentPage" (pageChange)="onPageChange($event)"
            (itemsPerPageChange)="onItemsPerPageChange($event)" [headerTemplate]="usersTableHeader"
            [rowTemplate]="usersTableRow" [emptyTemplate]="noUsers"></app-table>

        <ng-template #usersTableHeader>
            <th class="w-20">User</th>
            <th (click)="sortBy()" style="cursor: pointer;" class="w-20">
                <div class="d-flex align-items-center justify-content-start gap-3">
                    <svg xmlns="http://www.w3.org/2000/svg" *ngIf="sortDirection === 'desc'" width="24" height="24"
                        viewBox="0 0 24 24">
                        <g fill="none" stroke="#DDE3EB" stroke-linecap="round" stroke-width="1.5">
                            <path d="M4 8h9m-7 5h7m-5 5h5" />
                            <path stroke-linejoin="round" d="M17 20V4l3 4" />
                        </g>
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" *ngIf="sortDirection === 'asc'" width="24" height="24"
                        viewBox="0 0 24 24">
                        <path fill="#DDE3EB" fill-rule="evenodd"
                            d="M17 3.25a.75.75 0 0 1 .75.75v13.75l1.65-2.2a.75.75 0 1 1 1.2.9l-3 4a.75.75 0 0 1-1.35-.45V4a.75.75 0 0 1 .75-.75M7.25 6A.75.75 0 0 1 8 5.25h5a.75.75 0 0 1 0 1.5H8A.75.75 0 0 1 7.25 6m-2 5a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 0 1.5H6a.75.75 0 0 1-.75-.75m-2 5a.75.75 0 0 1 .75-.75h9a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.75-.75"
                            clip-rule="evenodd" />
                    </svg>
                    <span class="w-10">Email</span>
                </div>
            </th>
            <th class=""></th>
            <th class="w-20">Role(s)</th>
            <th class="">Added Date</th>
            <th>Status</th>
            <th>Actions</th>
        </ng-template>

        <ng-template #usersTableRow let-user let-i="index">

            <td class="cursor-pointer" [routerLink]="['/users/view-user', user.id]">
                <span class="d-block text-gray-sm">{{ user.id.toString().padStart(2, '0') }}</span>
                <span class="d-block text-truncate">{{ user.name }} </span>
            </td>

            <td class="cursor-pointer" [routerLink]="['/users/view-user', user.id]">{{ user.email}}</td>
            <td></td>

            <td class="roles-cell cursor-pointer" [title]="getRoleNames(user)"
                [routerLink]="['/users/view-user', user.id]">
                {{ getRoleNames(user) }}
            </td>

            <td class="cursor-pointer" [routerLink]="['/users/view-user', user.id]">{{user.created_at | date
                :'dd/MM/yyyy'}}
            </td>
            <td class="cursor-pointer" [routerLink]="['/users/view-user', user.id]">
                @switch (user.status) {
                @case (userStatus.Active){<span class="badge-success">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                        <g fill="none" stroke="currentColor" stroke-width="1.5">
                            <circle cx="12" cy="12" r="10" />
                            <path stroke-linecap="round" stroke-linejoin="round" d="m8.5 12.5l2 2l5-5" />
                        </g>
                    </svg>
                    <span>Active</span>
                </span>}
                @case (userStatus.Inactive){<span class="badge-gray">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                        <g fill="none" stroke="currentColor" stroke-width="1.5">
                            <path stroke-linecap="round" d="m18.5 5.5l-13 13" />
                            <circle cx="12" cy="12" r="10" />
                        </g>
                    </svg>
                    <span>Inactive</span>
                </span>}
                @case (userStatus.Pending){<span class="badge-newjoiner">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                        <g fill="none" stroke="currentColor" stroke-width="1.5">
                            <path
                                d="m12 12l-2.958 2.929c-2.922 2.894-4.383 4.341-3.974 5.59q.052.16.13.312C5.8 22 7.867 22 12 22s6.2 0 6.802-1.17q.078-.15.13-.311c.41-1.249-1.052-2.696-3.974-5.59zm0 0l2.958-2.929c2.922-2.894 4.383-4.341 3.974-5.59a2 2 0 0 0-.13-.312C18.2 2 16.133 2 12 2S5.8 2 5.198 3.17q-.078.15-.13.311c-.41 1.249 1.052 2.696 3.974 5.59z" />
                            <path stroke-linecap="round" d="M10 5.5h4m-4 13h4" />
                        </g>
                    </svg>
                    <span>Pending</span>
                </span>}
                @case (userStatus.Expired){<span class="badge-danger">
                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M9 4.6875C9.31066 4.6875 9.5625 4.93934 9.5625 5.25V9.75C9.5625 10.0607 9.31066 10.3125 9 10.3125C8.68934 10.3125 8.4375 10.0607 8.4375 9.75V5.25C8.4375 4.93934 8.68934 4.6875 9 4.6875Z"
                            fill="#E04F5F" />
                        <path
                            d="M9 12.75C9.41421 12.75 9.75 12.4142 9.75 12C9.75 11.5858 9.41421 11.25 9 11.25C8.58579 11.25 8.25 11.5858 8.25 12C8.25 12.4142 8.58579 12.75 9 12.75Z"
                            fill="#E04F5F" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M0.9375 9C0.9375 4.5472 4.5472 0.9375 9 0.9375C13.4528 0.9375 17.0625 4.5472 17.0625 9C17.0625 13.4528 13.4528 17.0625 9 17.0625C4.5472 17.0625 0.9375 13.4528 0.9375 9ZM9 2.0625C5.16852 2.0625 2.0625 5.16852 2.0625 9C2.0625 12.8315 5.16852 15.9375 9 15.9375C12.8315 15.9375 15.9375 12.8315 15.9375 9C15.9375 5.16852 12.8315 2.0625 9 2.0625Z"
                            fill="#E04F5F" />
                    </svg>

                    <span>Expired</span>
                </span>}
                }
            </td>

            <td>
                <span class="d-flex align-items-center gap-2 ">
                    <a class="edit-btn cursor-pointer" title="View" [routerLink]="['/users/view-user', user.id]">
                        <svg width="18" height="14" viewBox="0 0 18 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M9 4.1875C7.4467 4.1875 6.1875 5.4467 6.1875 7C6.1875 8.5533 7.4467 9.8125 9 9.8125C10.5533 9.8125 11.8125 8.5533 11.8125 7C11.8125 5.4467 10.5533 4.1875 9 4.1875ZM7.3125 7C7.3125 6.06802 8.06802 5.3125 9 5.3125C9.93198 5.3125 10.6875 6.06802 10.6875 7C10.6875 7.93198 9.93198 8.6875 9 8.6875C8.06802 8.6875 7.3125 7.93198 7.3125 7Z"
                                fill="#377AFD" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M9 0.4375C5.6144 0.4375 3.33397 2.46565 2.01043 4.18515L1.98656 4.21615C1.68723 4.6049 1.41155 4.96294 1.22452 5.3863C1.02423 5.83965 0.9375 6.33377 0.9375 7C0.9375 7.66623 1.02423 8.16035 1.22452 8.6137C1.41155 9.03706 1.68723 9.3951 1.98656 9.78386L2.01043 9.81485C3.33397 11.5344 5.6144 13.5625 9 13.5625C12.3856 13.5625 14.666 11.5344 15.9896 9.81485L16.0134 9.78387C16.3128 9.39511 16.5885 9.03707 16.7755 8.6137C16.9758 8.16035 17.0625 7.66623 17.0625 7C17.0625 6.33377 16.9758 5.83965 16.7755 5.3863C16.5885 4.96293 16.3128 4.60489 16.0134 4.21613L15.9896 4.18515C14.666 2.46565 12.3856 0.4375 9 0.4375ZM2.90191 4.87135C4.12398 3.28369 6.11277 1.5625 9 1.5625C11.8872 1.5625 13.876 3.28369 15.0981 4.87135C15.427 5.29869 15.6197 5.55404 15.7464 5.84091C15.8649 6.10901 15.9375 6.4367 15.9375 7C15.9375 7.5633 15.8649 7.89099 15.7464 8.15909C15.6197 8.44596 15.427 8.70131 15.0981 9.12865C13.876 10.7163 11.8872 12.4375 9 12.4375C6.11277 12.4375 4.12398 10.7163 2.90191 9.12865C2.57298 8.70131 2.3803 8.44596 2.25357 8.15909C2.13513 7.89099 2.0625 7.5633 2.0625 7C2.0625 6.4367 2.13513 6.10901 2.25357 5.84091C2.3803 5.55404 2.57298 5.29869 2.90191 4.87135Z"
                                fill="#377AFD" />
                        </svg>
                    </a>

                    @if( user.status === userStatus.Active || user.status === userStatus.Inactive){
                    <a class="edit-btn cursor-pointer" title="Edit" [routerLink]="['/users/edit-user', user.id]">
                        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M8.95697 0.9375L10.125 0.9375C10.4357 0.9375 10.6875 1.18934 10.6875 1.5C10.6875 1.81066 10.4357 2.0625 10.125 2.0625H9C7.21633 2.0625 5.93517 2.06369 4.96018 2.19478C4.00138 2.32369 3.42334 2.56886 2.9961 2.9961C2.56886 3.42334 2.32369 4.00138 2.19478 4.96018C2.06369 5.93517 2.0625 7.21633 2.0625 9C2.0625 10.7837 2.06369 12.0648 2.19478 13.0398C2.32369 13.9986 2.56886 14.5767 2.9961 15.0039C3.42334 15.4311 4.00138 15.6763 4.96018 15.8052C5.93517 15.9363 7.21633 15.9375 9 15.9375C10.7837 15.9375 12.0648 15.9363 13.0398 15.8052C13.9986 15.6763 14.5767 15.4311 15.0039 15.0039C15.4311 14.5767 15.6763 13.9986 15.8052 13.0398C15.9363 12.0648 15.9375 10.7837 15.9375 9V7.875C15.9375 7.56434 16.1893 7.3125 16.5 7.3125C16.8107 7.3125 17.0625 7.56434 17.0625 7.875V9.04303C17.0625 10.7743 17.0625 12.1311 16.9202 13.1897C16.7745 14.2733 16.4705 15.1283 15.7994 15.7994C15.1283 16.4705 14.2733 16.7745 13.1897 16.9202C12.1311 17.0625 10.7743 17.0625 9.04303 17.0625H8.95697C7.22567 17.0625 5.8689 17.0625 4.81028 16.9202C3.72673 16.7745 2.87171 16.4705 2.2006 15.7994C1.5295 15.1283 1.22549 14.2733 1.07981 13.1897C0.937483 12.1311 0.937491 10.7743 0.9375 9.04303V8.95697C0.937491 7.22567 0.937483 5.86889 1.07981 4.81028C1.22549 3.72673 1.5295 2.87171 2.2006 2.2006C2.87171 1.5295 3.72673 1.22549 4.81028 1.07981C5.86889 0.937483 7.22567 0.937491 8.95697 0.9375ZM12.5779 1.70694C13.6038 0.681022 15.2671 0.681022 16.2931 1.70694C17.319 2.73285 17.319 4.39619 16.2931 5.4221L11.307 10.4082C11.0285 10.6867 10.8541 10.8611 10.6594 11.013C10.4302 11.1918 10.1821 11.3451 9.91961 11.4702C9.69676 11.5764 9.46271 11.6544 9.08909 11.7789L6.9107 12.505C6.50851 12.6391 6.0651 12.5344 5.76533 12.2347C5.46556 11.9349 5.36089 11.4915 5.49495 11.0893L6.22108 8.91092C6.34559 8.53729 6.42359 8.30324 6.5298 8.08039C6.65489 7.81791 6.80821 7.56984 6.98703 7.34056C7.13887 7.1459 7.31333 6.97147 7.59183 6.693L12.5779 1.70694ZM15.4976 2.50243C14.911 1.91586 13.96 1.91586 13.3734 2.50243L13.0909 2.7849C13.108 2.85679 13.1318 2.94245 13.1649 3.038C13.2724 3.34779 13.4758 3.75579 13.86 4.14C14.2442 4.5242 14.6522 4.7276 14.962 4.83508C15.0575 4.86823 15.1432 4.89205 15.2151 4.90907L15.4976 4.62661C16.0841 4.04003 16.0841 3.08901 15.4976 2.50243ZM14.3289 5.79532C13.9419 5.6289 13.4911 5.36209 13.0645 4.93549C12.6379 4.50889 12.3711 4.05812 12.2047 3.67114L8.41313 7.46269C8.10075 7.77508 7.97823 7.89897 7.87411 8.03246C7.74553 8.19731 7.6353 8.37567 7.54536 8.56439C7.47252 8.71722 7.41651 8.8822 7.2768 9.30131L6.95288 10.2731L7.72693 11.0471L8.69869 10.7232C9.1178 10.5835 9.28278 10.5275 9.43561 10.4546C9.62433 10.3647 9.80269 10.2545 9.96754 10.1259C10.101 10.0218 10.2249 9.89926 10.5373 9.58687L14.3289 5.79532Z"
                                fill="#4A6D97" />
                        </svg>
                    </a>
                    }

                    @if( user.status === userStatus.Pending || user.status === userStatus.Expired){
                    <a class="edit-btn cursor-pointer" title="Invite again" (click)="resendInvitation(user.email)">
                        <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M13.6078 1.72312C12.7303 1.87922 11.5473 2.27196 9.88702 2.82538L6.12856 4.0782C4.79354 4.52321 3.82658 4.84601 3.1436 5.1365C2.42954 5.4402 2.17553 5.65189 2.09304 5.7938C1.83893 6.23089 1.83893 6.77072 2.09304 7.2078C2.17553 7.34971 2.42954 7.5614 3.1436 7.8651C3.82658 8.15559 4.79354 8.47839 6.12856 8.9234C6.14964 8.93043 6.17045 8.93735 6.19101 8.94419C6.47573 9.0389 6.71096 9.11714 6.91648 9.22461L10.909 5.27608C11.1353 5.0523 11.5001 5.05433 11.7239 5.2806C11.9477 5.50688 11.9457 5.87172 11.7194 6.0955L7.74445 10.0266C7.86837 10.2455 7.95225 10.4977 8.05581 10.809C8.06265 10.8295 8.06957 10.8504 8.0766 10.8714C8.52161 12.2065 8.84441 13.1734 9.1349 13.8564C9.43859 14.5705 9.65029 14.8245 9.79219 14.907C10.2293 15.1611 10.7691 15.1611 11.2062 14.907C11.3481 14.8245 11.5598 14.5705 11.8635 13.8564C12.154 13.1734 12.4768 12.2065 12.9218 10.8714L14.1746 7.11299C14.728 5.45272 15.1208 4.2697 15.2769 3.39222C15.4337 2.51056 15.3139 2.13605 15.0889 1.91109C14.864 1.68614 14.4894 1.56628 13.6078 1.72312ZM13.4059 0.588477C14.3826 0.41474 15.2622 0.45456 15.9038 1.09618C16.5454 1.73781 16.5853 2.61742 16.4115 3.59406C16.2388 4.56481 15.8177 5.82811 15.2846 7.42752L14.0059 11.2636C13.572 12.5652 13.2349 13.5765 12.924 14.3075C12.6241 15.0125 12.2912 15.6093 11.7854 15.9033C10.9902 16.3656 10.0082 16.3656 9.21297 15.9033C8.70722 15.6093 8.37425 15.0125 8.07437 14.3075C7.76349 13.5765 7.42638 12.5652 6.99253 11.2636L6.98328 11.2359C6.83129 10.7799 6.78495 10.6562 6.71931 10.5582C6.64585 10.4484 6.55159 10.3542 6.44185 10.2807C6.3438 10.215 6.22011 10.1687 5.76412 10.0167L5.73634 10.0075C4.4348 9.57361 3.42347 9.23651 2.69253 8.92562C1.98747 8.62575 1.39073 8.29278 1.09671 7.78702C0.634431 6.99185 0.634431 6.00976 1.09671 5.21458C1.39073 4.70882 1.98747 4.37585 2.69254 4.07598C3.42348 3.76509 4.43482 3.42798 5.73639 2.99413L9.5725 1.71542C11.1719 1.18227 12.4352 0.761164 13.4059 0.588477Z"
                                fill="#377AFD" />
                        </svg>
                    </a>

                    <a class="edit-btn cursor-pointer" title="Delete">
                        <svg width="14" height="16" viewBox="0 0 14 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M5.73202 0.687514H8.2681C8.4304 0.687411 8.57179 0.687321 8.70531 0.708641C9.23278 0.79287 9.68923 1.12186 9.93594 1.59563C9.99838 1.71555 10.043 1.84971 10.0942 2.00371L10.1779 2.25488C10.1921 2.2974 10.1962 2.30943 10.1996 2.31891C10.3309 2.682 10.6715 2.92745 11.0575 2.93723C11.0676 2.93748 11.08 2.93753 11.1251 2.93753H13.3751C13.6857 2.93753 13.9376 3.18937 13.9376 3.50003C13.9376 3.81069 13.6857 4.06253 13.3751 4.06253H0.625C0.31434 4.06253 0.0625 3.81069 0.0625 3.50003C0.0625 3.18937 0.31434 2.93753 0.625 2.93753H2.87506C2.9201 2.93753 2.93253 2.93749 2.94267 2.93723C3.32866 2.92745 3.66918 2.68202 3.80052 2.31893C3.80397 2.30938 3.80794 2.29761 3.82218 2.25488L3.90589 2.00372C3.95711 1.84973 4.00174 1.71555 4.06419 1.59563C4.3109 1.12186 4.76735 0.79287 5.29482 0.708641C5.42834 0.687321 5.56973 0.687411 5.73202 0.687514ZM4.75611 2.93753C4.79475 2.86176 4.82898 2.78303 4.85843 2.70161C4.86737 2.67689 4.87615 2.65057 4.88742 2.61675L4.96227 2.39219C5.03065 2.18706 5.04639 2.14522 5.06201 2.11523C5.14424 1.95731 5.29639 1.84764 5.47222 1.81957C5.50561 1.81423 5.55027 1.81253 5.76651 1.81253H8.23362C8.44985 1.81253 8.49451 1.81423 8.52791 1.81957C8.70373 1.84764 8.85588 1.95731 8.93812 2.11523C8.95374 2.14522 8.96948 2.18705 9.03786 2.39219L9.11266 2.61662L9.1417 2.70163C9.17115 2.78304 9.20538 2.86177 9.24401 2.93753H4.75611Z"
                                fill="#E04F5F" />
                            <path
                                d="M2.43632 5.33761C2.41565 5.02764 2.14762 4.79311 1.83765 4.81377C1.52767 4.83444 1.29314 5.10247 1.31381 5.41245L1.6614 10.6262C1.72552 11.5883 1.77731 12.3654 1.89879 12.9752C2.02509 13.6092 2.23991 14.1387 2.6836 14.5538C3.1273 14.9689 3.66996 15.1481 4.31095 15.2319C4.92747 15.3126 5.70628 15.3125 6.67045 15.3125H7.32963C8.29379 15.3125 9.07266 15.3126 9.68918 15.2319C10.3302 15.1481 10.8728 14.9689 11.3165 14.5538C11.7602 14.1387 11.975 13.6092 12.1013 12.9752C12.2228 12.3654 12.2746 11.5883 12.3387 10.6263L12.6863 5.41245C12.707 5.10247 12.4725 4.83444 12.1625 4.81377C11.8525 4.79311 11.5845 5.02764 11.5638 5.33761L11.2189 10.5119C11.1515 11.5228 11.1034 12.2262 10.998 12.7554C10.8958 13.2688 10.753 13.5405 10.5479 13.7323C10.3429 13.9242 10.0623 14.0485 9.54326 14.1164C9.00821 14.1864 8.30321 14.1875 7.29007 14.1875H6.71005C5.69692 14.1875 4.99192 14.1864 4.45686 14.1164C3.93786 14.0485 3.65724 13.9242 3.45218 13.7323C3.24712 13.5405 3.10437 13.2687 3.00211 12.7554C2.89669 12.2262 2.84867 11.5228 2.78127 10.5119L2.43632 5.33761Z"
                                fill="#E04F5F" />
                            <path
                                d="M5.0691 6.69032C5.37822 6.65941 5.65386 6.88494 5.68478 7.19406L6.05978 10.9441C6.09069 11.2532 5.86516 11.5288 5.55604 11.5597C5.24692 11.5906 4.97127 11.3651 4.94036 11.056L4.56536 7.306C4.53445 6.99688 4.75998 6.72123 5.0691 6.69032Z"
                                fill="#E04F5F" />
                            <path
                                d="M8.93104 6.69032C9.24016 6.72123 9.46569 6.99688 9.43478 7.306L9.05978 11.056C9.02886 11.3651 8.75322 11.5906 8.4441 11.5597C8.13498 11.5288 7.90945 11.2532 7.94036 10.9441L8.31536 7.19406C8.34627 6.88494 8.62192 6.65941 8.93104 6.69032Z"
                                fill="#E04F5F" />
                        </svg>
                    </a>
                    }

                </span>


            </td>

            <!-- <td>
                <div class="d-flex align-items-center justify-content-start gap-2">
                    <button class="edit-btn copy-btn" (click)="copyEmail(user.email, user)" data-bs-toggle="tooltip"
                    data-bs-placement="top" title="Copy Mail">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24">
                        <g fill="none" stroke="currentColor" stroke-width="1.5">
                            <path
                            d="M6 11c0-2.828 0-4.243.879-5.121C7.757 5 9.172 5 12 5h3c2.828 0 4.243 0 5.121.879C21 6.757 21 8.172 21 11v5c0 2.828 0 4.243-.879 5.121C19.243 22 17.828 22 15 22h-3c-2.828 0-4.243 0-5.121-.879C6 20.243 6 18.828 6 16z" />
                            <path
                                    d="M6 19a3 3 0 0 1-3-3v-6c0-3.771 0-5.657 1.172-6.828S7.229 2 11 2h4a3 3 0 0 1 3 3" />
                            </g>
                        </svg>
                    </button>
                    <span class="text-success" *ngIf="user.copied">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24">
                            <g fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="12" cy="12" r="10" />
                                <path stroke-linecap="round" stroke-linejoin="round" d="m8.5 12.5l2 2l5-5" />
                            </g>
                        </svg>
                    </span>
                </div>
            </td> -->
            <!-- } -->

        </ng-template>

        <ng-template #noUsers>
            <tr>
                <td colspan="6" class="no-data py-4">
                    <ng-container *ngIf="searchTerm?.trim() || filterForm.dirty; else noUsers">
                        No Users match your search and filter.
                    </ng-container>
                    <ng-template #noUsers>
                        No Users Added Yet.
                    </ng-template>
                </td>
            </tr>
        </ng-template>
    </div>
</div>


<!-- filter popup -->
<app-overlay-filter-box #filterBox [title]="'Filters'">
    <!-- (ngSubmit)="filter()" -->
    <form [formGroup]="filterForm" class="w-100 d-flex flex-column gap-3">
        <div class="input">
            <label for="users">Users</label>
            <div class="d-flex align-items-center gap-4">
                <!-- <div class="form-outline w-100 position-relative custom-date-wrapper">
                    <select formControlName="name" id="users" class="form-select">
                        <option value="" selected disabled hidden>Select</option>
                        <option *ngFor="let user of allUsers" [value]="user?.name">{{user?.name}}
                        </option>
                    </select>
                </div> -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <path fill="#e04f5f"
                        d="M10.03 8.97a.75.75 0 0 0-1.06 1.06L10.94 12l-1.97 1.97a.75.75 0 1 0 1.06 1.06L12 13.06l1.97 1.97a.75.75 0 0 0 1.06-1.06L13.06 12l1.97-1.97a.75.75 0 1 0-1.06-1.06L12 10.94z" />
                    <path fill="#e04f5f" fill-rule="evenodd"
                        d="M12 1.25C6.063 1.25 1.25 6.063 1.25 12S6.063 22.75 12 22.75S22.75 17.937 22.75 12S17.937 1.25 12 1.25M2.75 12a9.25 9.25 0 1 1 18.5 0a9.25 9.25 0 0 1-18.5 0"
                        clip-rule="evenodd" />
                </svg>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <g fill="none" stroke="#3f9870" stroke-width="1.5">
                        <circle cx="12" cy="12" r="10" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="m8.5 12.5l2 2l5-5" />
                    </g>
                </svg>
            </div>
        </div>

        <!-- <div class="input">
            <label for="schedules_type">Schedules Type</label>
            <div class="d-flex align-items-center gap-4">
                <div class="form-outline w-100 position-relative custom-date-wrapper">
                    <select name="schedules_type" id="schedules_type" class="form-select">
                        <option value="" selected disabled hidden>Select</option>
                        <option value=1>Full-time</option>
                        <option value=2>Part-time</option>
                        <option value=3>Per Hour</option>
                        <option value=4>Freelance</option>
                    </select>
                </div>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <path fill="#e04f5f"
                        d="M10.03 8.97a.75.75 0 0 0-1.06 1.06L10.94 12l-1.97 1.97a.75.75 0 1 0 1.06 1.06L12 13.06l1.97 1.97a.75.75 0 0 0 1.06-1.06L13.06 12l1.97-1.97a.75.75 0 1 0-1.06-1.06L12 10.94z" />
                    <path fill="#e04f5f" fill-rule="evenodd"
                        d="M12 1.25C6.063 1.25 1.25 6.063 1.25 12S6.063 22.75 12 22.75S22.75 17.937 22.75 12S17.937 1.25 12 1.25M2.75 12a9.25 9.25 0 1 1 18.5 0a9.25 9.25 0 0 1-18.5 0"
                        clip-rule="evenodd" />
                </svg>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <g fill="none" stroke="#3f9870" stroke-width="1.5">
                        <circle cx="12" cy="12" r="10" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="m8.5 12.5l2 2l5-5" />
                    </g>
                </svg>
            </div>
        </div> -->


        <div class="d-flex align-items-center gap-3">
            <button type="submit" class="btn btn-lg btn-primary w-100">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <g fill="none" stroke-width="1.5">
                        <circle cx="12" cy="12" r="10" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="m8.5 12.5l2 2l5-5" />
                    </g>
                </svg>
                <span>Apply Filter</span>
            </button>
            <a (click)="resetFilterForm()" type="button" class="text-danger-dark fw-bold w-100 text-center">
                <span>Clear Filters</span>
            </a>
        </div>
    </form>



</app-overlay-filter-box>