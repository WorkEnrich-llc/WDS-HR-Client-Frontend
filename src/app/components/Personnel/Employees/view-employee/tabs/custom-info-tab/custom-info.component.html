<div class="custom-info-card">
   <h2>Custom Info</h2>

   <ol class="info-list">

      @for (field of fields; track $index; let i = $index){
      <li class="info-item" [ngClass]="{'editing': editStates[i].isEditing}">

         <span class="label">{{ field.label }}</span>

         <div class="value-area">

            <span class="display-value">{{ field.value }}</span>

            <input type="text" class="edit-input" [(ngModel)]="editStates[i].editValue">

         </div>

         <div class="actions">

            @if (!editStates[i].isEditing) {
            <ng-container>
               <button class="icon-btn edit-btn" title="edit" (click)="onEdit(i)">
                  <svg width="14" height="17" viewBox="0 0 14 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                     <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M8.13693 0.855819C9.27803 -0.285273 11.1281 -0.285273 12.2692 0.855819C13.4103 1.99691 13.4103 3.84699 12.2692 4.98808L6.57369 10.6836C6.25269 11.0046 6.05665 11.2007 5.83816 11.3711C5.58074 11.5719 5.30221 11.744 5.0075 11.8845C4.75736 12.0037 4.49433 12.0913 4.06363 12.2349L2.05915 12.903L1.5779 13.0635C1.14714 13.2071 0.672218 13.0949 0.351146 12.7739C0.0300745 12.4528 -0.0820375 11.9779 0.06155 11.5471L0.890125 9.06139C1.03367 8.63068 1.12133 8.36766 1.24054 8.11752C1.38099 7.82281 1.55313 7.54427 1.75392 7.28685C1.92434 7.06836 2.12039 6.87232 2.44143 6.55132L8.13693 0.855819ZM2.03319 11.7258L1.39917 11.0918L1.94549 9.45287C2.10455 8.97569 2.17025 8.78167 2.2561 8.60151C2.3614 8.38056 2.49046 8.17174 2.64099 7.97875C2.76373 7.82139 2.90789 7.67586 3.26356 7.32019L7.68179 2.90196C7.86416 3.35945 8.17272 3.91161 8.69306 4.43195C9.2134 4.95229 9.76557 5.26086 10.2231 5.44323L5.80483 9.86146C5.44916 10.2171 5.30363 10.3613 5.14627 10.484C4.95327 10.6346 4.74445 10.7636 4.5235 10.8689C4.34335 10.9548 4.14933 11.0205 3.67215 11.1795L2.03319 11.7258ZM11.1195 4.5468C11.0266 4.52642 10.9105 4.49574 10.7785 4.44993C10.4154 4.32399 9.93794 4.08584 9.48856 3.63646C9.03918 3.18708 8.80103 2.70957 8.67508 2.34655C8.62928 2.21453 8.5986 2.0984 8.57821 2.00553L8.93243 1.65131C9.63418 0.949562 10.7719 0.949562 11.4737 1.65131C12.1755 2.35307 12.1755 3.49083 11.4737 4.19259L11.1195 4.5468ZM1.52696e-05 15.5625C1.52696e-05 15.2518 0.251855 15 0.562515 15H12.5625V16.125H0.562515C0.251855 16.125 1.52696e-05 15.8732 1.52696e-05 15.5625Z"
                        fill="#4A6D97" />
                  </svg>
               </button>
               <button class="icon-btn delete-btn" title="delete" (click)="onRemove(i)">
                  <svg width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                     <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M5.66952 1.42113e-05H8.2056C8.3679 -8.93219e-05 8.50929 -0.000179489 8.64281 0.0211409C9.17028 0.10537 9.62673 0.43436 9.87344 0.908129C9.93588 1.02805 9.98051 1.16221 10.0317 1.31621L10.1154 1.56738C10.1296 1.6099 10.1337 1.62193 10.1371 1.63141C10.2684 1.9945 10.609 2.23995 10.995 2.24973C11.0051 2.24998 11.0175 2.25003 11.0626 2.25003H13.3126C13.6232 2.25003 13.8751 2.50187 13.8751 2.81253C13.8751 3.12319 13.6232 3.37503 13.3126 3.37503H0.5625C0.25184 3.37503 0 3.12319 0 2.81253C0 2.50187 0.25184 2.25003 0.5625 2.25003H2.81256C2.8576 2.25003 2.87003 2.24999 2.88017 2.24973C3.26616 2.23995 3.60668 1.99452 3.73802 1.63143C3.74147 1.62188 3.74544 1.61011 3.75968 1.56738L3.84339 1.31622C3.89461 1.16223 3.93924 1.02805 4.00169 0.90813C4.2484 0.434361 4.70485 0.10537 5.23232 0.0211409C5.36584 -0.000179489 5.50723 -8.93219e-05 5.66952 1.42113e-05ZM4.69361 2.25003C4.73225 2.17426 4.76648 2.09553 4.79593 2.01411C4.80487 1.98939 4.81365 1.96307 4.82492 1.92925L4.89977 1.70469C4.96815 1.49956 4.98389 1.45772 4.99951 1.42773C5.08174 1.26981 5.23389 1.16014 5.40972 1.13207C5.44311 1.12673 5.48777 1.12503 5.70401 1.12503H8.17112C8.38735 1.12503 8.43201 1.12673 8.46541 1.13207C8.64123 1.16014 8.79338 1.26981 8.87562 1.42773C8.89124 1.45772 8.90698 1.49955 8.97536 1.70469L9.05016 1.92912L9.0792 2.01413C9.10865 2.09554 9.14288 2.17427 9.18151 2.25003H4.69361Z"
                        fill="#E04F5F" />
                     <path
                        d="M2.37382 4.65011C2.35315 4.34014 2.08512 4.10561 1.77515 4.12627C1.46517 4.14694 1.23064 4.41497 1.25131 4.72495L1.5989 9.93875C1.66302 10.9008 1.71481 11.6779 1.83629 12.2877C1.96259 12.9217 2.17741 13.4512 2.6211 13.8663C3.0648 14.2814 3.60746 14.4606 4.24845 14.5444C4.86497 14.6251 5.64378 14.625 6.60795 14.625H7.26713C8.23129 14.625 9.01016 14.6251 9.62668 14.5444C10.2677 14.4606 10.8103 14.2814 11.254 13.8663C11.6977 13.4512 11.9125 12.9217 12.0388 12.2877C12.1603 11.6779 12.2121 10.9008 12.2762 9.93876L12.6238 4.72495C12.6445 4.41497 12.41 4.14694 12.1 4.12627C11.79 4.10561 11.522 4.34014 11.5013 4.65011L11.1564 9.82445C11.089 10.8353 11.0409 11.5387 10.9355 12.0679C10.8333 12.5813 10.6905 12.853 10.4854 13.0448C10.2804 13.2367 9.99976 13.361 9.48076 13.4289C8.94571 13.4989 8.24071 13.5 7.22757 13.5H6.64755C5.63442 13.5 4.92942 13.4989 4.39436 13.4289C3.87536 13.361 3.59474 13.2367 3.38968 13.0448C3.18462 12.853 3.04187 12.5812 2.93961 12.0679C2.83419 11.5387 2.78617 10.8353 2.71877 9.82445L2.37382 4.65011Z"
                        fill="#E04F5F" />
                     <path
                        d="M5.0066 6.00282C5.31572 5.97191 5.59136 6.19744 5.62228 6.50656L5.99728 10.2566C6.02819 10.5657 5.80266 10.8413 5.49354 10.8722C5.18442 10.9031 4.90877 10.6776 4.87786 10.3685L4.50286 6.6185C4.47195 6.30938 4.69748 6.03373 5.0066 6.00282Z"
                        fill="#E04F5F" />
                     <path
                        d="M8.86854 6.00282C9.17766 6.03373 9.40319 6.30938 9.37228 6.6185L8.99728 10.3685C8.96636 10.6776 8.69072 10.9031 8.3816 10.8722C8.07248 10.8413 7.84695 10.5657 7.87786 10.2566L8.25286 6.50656C8.28377 6.19744 8.55942 5.97191 8.86854 6.00282Z"
                        fill="#E04F5F" />
                  </svg>

               </button>
            </ng-container>
            }

            @if (editStates[i].isEditing) {
            <ng-container>
               <button class="icon-btn delete-btn" title="confirm-btn" (click)="onConfirm(i)">
                  <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                     <path
                        d="M11.0852 6.58525C11.3049 6.36558 11.3049 6.00942 11.0852 5.78975C10.8656 5.57008 10.5094 5.57008 10.2898 5.78975L6.9375 9.142L5.83525 8.03975C5.61558 7.82008 5.25942 7.82008 5.03975 8.03975C4.82008 8.25942 4.82008 8.61558 5.03975 8.83525L6.53975 10.3352C6.75942 10.5549 7.11558 10.5549 7.33525 10.3352L11.0852 6.58525Z"
                        fill="#4CA883" />
                     <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M8.0625 0C3.6097 0 0 3.6097 0 8.0625C0 12.5153 3.6097 16.125 8.0625 16.125C12.5153 16.125 16.125 12.5153 16.125 8.0625C16.125 3.6097 12.5153 0 8.0625 0ZM1.125 8.0625C1.125 4.23102 4.23102 1.125 8.0625 1.125C11.894 1.125 15 4.23102 15 8.0625C15 11.894 11.894 15 8.0625 15C4.23102 15 1.125 11.894 1.125 8.0625Z"
                        fill="#4CA883" />
                  </svg>
               </button>
               <button class="icon-btn delete-btn" title="cancel-btn" (click)="onCancel(i)">
                  <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                     <path
                        d="M6.58522 5.78974C6.36555 5.57007 6.0094 5.57007 5.78973 5.78974C5.57006 6.00941 5.57006 6.36557 5.78973 6.58524L7.26699 8.0625L5.78975 9.53974C5.57008 9.75941 5.57008 10.1156 5.78975 10.3352C6.00942 10.5549 6.36557 10.5549 6.58524 10.3352L8.06248 8.85799L9.53971 10.3352C9.75938 10.5549 10.1155 10.5549 10.3352 10.3352C10.5549 10.1156 10.5549 9.7594 10.3352 9.53973L8.85798 8.0625L10.3352 6.58525C10.5549 6.36558 10.5549 6.00943 10.3352 5.78976C10.1156 5.57009 9.7594 5.57009 9.53973 5.78976L8.06248 7.267L6.58522 5.78974Z"
                        fill="#E04F5F" />
                     <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M8.0625 0C3.6097 0 0 3.6097 0 8.0625C0 12.5153 3.6097 16.125 8.0625 16.125C12.5153 16.125 16.125 12.5153 16.125 8.0625C16.125 3.6097 12.5153 0 8.0625 0ZM1.125 8.0625C1.125 4.23102 4.23102 1.125 8.0625 1.125C11.894 1.125 15 4.23102 15 8.0625C15 11.894 11.894 15 8.0625 15C4.23102 15 1.125 11.894 1.125 8.0625Z"
                        fill="#E04F5F" />
                  </svg>
               </button>
            </ng-container>
            }


         </div>

      </li>
      }

   </ol>
</div>