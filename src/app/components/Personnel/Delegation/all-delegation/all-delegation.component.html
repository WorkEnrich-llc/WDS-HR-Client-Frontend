<!-- start page header -->
<app-page-header [breadcrumbs]="[
    { label: 'Personnel', link: '/dashboard' },
    { label: 'Delegation' }
  ]" title="All Delegations">
</app-page-header>
<!-- end page header -->

<!-- start page content -->
<div class="content-hug">
    <div class="content-box d-flex flex-column gap-3">
        <!-- start search and filter -->
        <div
            class="d-flex flex-column flex-lg-row align-items-start align-lg-items-center justify-content-between gap-2">
            <div class="d-flex align-items-center gap-2 w-100 w-lg-50">
                <!-- Search input -->
                <div data-mdb-input-init class="form-outline w-75">
                    <input type="text" class="form-control" [(ngModel)]="searchTerm" (ngModelChange)="onSearchChange()"
                        placeholder="Search" />
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                        <g fill="none" stroke-width="1.5">
                            <circle cx="11.5" cy="11.5" r="9.5" />
                            <path stroke-linecap="round" d="M18.5 18.5L22 22" />
                        </g>
                    </svg>
                </div>

                <!-- Filter button -->
                <button class="btn btn-lg btn-outline-primary" (click)="overlay.openOverlay()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
                        <path fill="none" stroke-width="1.5"
                            d="M19 3H5c-1.414 0-2.121 0-2.56.412S2 4.488 2 5.815v.69c0 1.037 0 1.556.26 1.986s.733.698 1.682 1.232l2.913 1.64c.636.358.955.537 1.183.735c.474.411.766.895.898 1.49c.064.284.064.618.064 1.285v2.67c0 .909 0 1.364.252 1.718c.252.355.7.53 1.594.88c1.879.734 2.818 1.101 3.486.683S15 19.452 15 17.542v-2.67c0-.666 0-1 .064-1.285a2.68 2.68 0 0 1 .899-1.49c.227-.197.546-.376 1.182-.735l2.913-1.64c.948-.533 1.423-.8 1.682-1.23c.26-.43.26-.95.26-1.988v-.69c0-1.326 0-1.99-.44-2.402C21.122 3 20.415 3 19 3Z" />
                    </svg>
                    <span>Filter</span>
                </button>
            </div>

            <!-- New Delegation button -->
            <button class="btn btn-lg btn-primary" routerLink="/delegation/create">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24">
                    <g fill="none" stroke="#ffffff" stroke-width="1.5">
                        <circle cx="12" cy="12" r="10" />
                        <path stroke-linecap="round" d="M15 12h-3m0 0H9m3 0V9m0 3v3" />
                    </g>
                </svg>
                <span>New Delegation</span>
            </button>
        </div>

        <!-- start Table -->
        <app-table [isLoading]="loadData" [columnsCount]="6" [data]="filteredDelegations" [totalItems]="totalItems"
            [itemsPerPage]="itemsPerPage" [currentPage]="currentPage" (pageChange)="onPageChange($event)"
            (itemsPerPageChange)="onItemsPerPageChange($event)" [headerTemplate]="delegationTableHeader"
            [rowTemplate]="delegationTableRow" [emptyTemplate]="noDelegations"></app-table>

        <ng-template #delegationTableHeader>
            <th (click)="sortBy()" style="cursor: pointer;" class="width-fix">
                <div class="d-flex align-items-center justify-content-between">
                    <span>Delegator</span>
                    <svg xmlns="http://www.w3.org/2000/svg" *ngIf="sortDirection === 'desc'" width="24" height="24"
                        viewBox="0 0 24 24">
                        <g fill="none" stroke="#DDE3EB" stroke-linecap="round" stroke-width="1.5">
                            <path d="M4 8h9m-7 5h7m-5 5h5" />
                            <path stroke-linejoin="round" d="M17 20V4l3 4" />
                        </g>
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" *ngIf="sortDirection === 'asc'" width="24" height="24"
                        viewBox="0 0 24 24">
                        <path fill="#DDE3EB" fill-rule="evenodd"
                            d="M17 3.25a.75.75 0 0 1 .75.75v13.75l1.65-2.2a.75.75 0 1 1 1.2.9l-3 4a.75.75 0 0 1-1.35-.45V4a.75.75 0 0 1 .75-.75M7.25 6A.75.75 0 0 1 8 5.25h5a.75.75 0 0 1 0 1.5H8A.75.75 0 0 1 7.25 6m-2 5a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 0 1.5H6a.75.75 0 0 1-.75-.75m-2 5a.75.75 0 0 1 .75-.75h9a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.75-.75"
                            clip-rule="evenodd" />
                    </svg>
                </div>
            </th>
            <th>Delegate</th>
            <th>Start Date</th>
            <th>End Date</th>
            <th>Status</th>
            <th>Actions</th>
        </ng-template>

        <ng-template #delegationTableRow let-delegation let-i="index">
            <td>
                {{ delegation.delegatorName }}

            </td>
            <td>
                {{ delegation.delegateName }}
            </td>
            <td>{{ delegation.startDate }}</td>
            <td>{{ delegation.endDate }}</td>
            <td>
                @switch (delegation.status) {
                @case ('Accepted') {
                <span class="badge-success">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                        <g fill="none" stroke="currentColor" stroke-width="1.5">
                            <circle cx="12" cy="12" r="10" />
                            <path stroke-linecap="round" stroke-linejoin="round" d="m8.5 12.5l2 2l5-5" />
                        </g>
                    </svg>
                    <span>Accepted</span>
                </span>
                }
                @case ('Pending') {
                <span class="badge-newjoiner">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M5.95317 0.9375H6.04679C7.55709 0.937488 8.74903 0.937479 9.6172 1.05195C10.4705 1.16445 11.2372 1.41239 11.6014 2.11939C11.6538 2.22125 11.6981 2.32711 11.7338 2.43596C11.9822 3.19419 11.6146 3.9104 11.0909 4.58827C10.5584 5.27763 9.71518 6.11258 8.64769 7.16968L6.79939 9L8.64769 10.8303C9.71519 11.8874 10.5584 12.7224 11.0909 13.4117C11.6146 14.0896 11.9822 14.8058 11.7338 15.564C11.6981 15.6729 11.6538 15.7787 11.6014 15.8806C11.2372 16.5876 10.4705 16.8355 9.6172 16.9481C8.74903 17.0625 7.55708 17.0625 6.04678 17.0625H5.95318C4.44288 17.0625 3.25093 17.0625 2.38275 16.9481C1.52944 16.8355 0.762726 16.5876 0.398595 15.8806C0.346133 15.7787 0.301852 15.6729 0.266183 15.564C0.0177354 14.8058 0.3854 14.0896 0.909063 13.4117C1.4416 12.7224 2.28477 11.8874 3.35227 10.8303L5.20057 9L3.35227 7.16968C2.28477 6.11258 1.4416 5.27763 0.909063 4.58827C0.3854 3.9104 0.0177353 3.1942 0.266183 2.43597C0.301852 2.32711 0.346132 2.22126 0.398595 2.11939C0.762726 1.41239 1.52944 1.16445 2.38275 1.05195C3.25092 0.937479 4.44287 0.937488 5.95317 0.9375ZM5.99998 8.20836L7.82245 6.40361C8.9309 5.30595 9.7195 4.52329 10.2006 3.90051C10.6962 3.25901 10.7231 2.96439 10.6647 2.78627C10.6476 2.73415 10.6264 2.6834 10.6012 2.6345C10.5137 2.46456 10.2796 2.27402 9.47015 2.16729C8.68447 2.0637 7.56725 2.0625 5.99998 2.0625C4.43271 2.0625 3.31549 2.0637 2.52981 2.16729C1.72033 2.27402 1.48627 2.46456 1.39874 2.6345C1.37355 2.6834 1.35233 2.73415 1.33525 2.78627C1.27689 2.96439 1.30378 3.25901 1.79935 3.90051C2.28046 4.52329 3.06906 5.30595 4.17751 6.40362L5.99998 8.20836ZM5.99998 9.79164L4.1775 11.5964C3.06906 12.694 2.28046 13.4767 1.79935 14.0995C1.30378 14.741 1.27689 15.0356 1.33525 15.2137C1.35233 15.2659 1.37355 15.3166 1.39874 15.3655C1.48627 15.5354 1.72033 15.726 2.52981 15.8327C3.31549 15.9363 4.43271 15.9375 5.99998 15.9375C7.56725 15.9375 8.68447 15.9363 9.47015 15.8327C10.2796 15.726 10.5137 15.5354 10.6012 15.3655C10.6264 15.3166 10.6476 15.2659 10.6647 15.2137C10.7231 15.0356 10.6962 14.741 10.2006 14.0995C9.7195 13.4767 8.93089 12.694 7.82245 11.5964L5.99998 9.79164ZM3.93748 4.125C3.93748 3.81434 4.18932 3.5625 4.49998 3.5625H7.49998C7.81064 3.5625 8.06248 3.81434 8.06248 4.125C8.06248 4.43566 7.81064 4.6875 7.49998 4.6875H4.49998C4.18932 4.6875 3.93748 4.43566 3.93748 4.125ZM3.93748 13.875C3.93748 13.5643 4.18932 13.3125 4.49998 13.3125H7.49998C7.81064 13.3125 8.06248 13.5643 8.06248 13.875C8.06248 14.1857 7.81064 14.4375 7.49998 14.4375H4.49998C4.18932 14.4375 3.93748 14.1857 3.93748 13.875Z"
                            fill="#377AFD" />
                    </svg>
                    <span>Pending</span>
                </span>
                }
                @case ('Cancelled') {
                <span class="badge-danger">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                        <g fill="none" stroke="currentColor" stroke-width="1.5">
                            <circle cx="12" cy="12" r="10" />
                            <path stroke-linecap="round" d="m14.5 9.5l-5 5m0-5l5 5" />
                        </g>
                    </svg>
                    <span>Cancelled</span>
                </span>
                }
                @case ('Rejected') {
                <span class="badge-danger">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                        <g fill="none" stroke="currentColor" stroke-width="1.5">
                            <circle cx="12" cy="12" r="10" />
                            <path stroke-linecap="round" d="m14.5 9.5l-5 5m0-5l5 5" />
                        </g>
                    </svg>
                    <span>Rejected</span>
                </span>
                }
                @case ('Expired') {
                <span class="badge-gray">
                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M9 0.9375C4.5472 0.9375 0.9375 4.5472 0.9375 9C0.9375 13.4528 4.5472 17.0625 9 17.0625C13.4528 17.0625 17.0625 13.4528 17.0625 9C17.0625 4.5472 13.4528 0.9375 9 0.9375ZM2.0625 9C2.0625 5.16852 5.16852 2.0625 9 2.0625C10.7134 2.0625 12.2817 2.68363 13.492 3.71299C13.487 3.71764 13.4821 3.72239 13.4773 3.72725L3.72727 13.4771C3.72238 13.482 3.7176 13.4869 3.71292 13.492C2.6836 12.2816 2.0625 10.7133 2.0625 9ZM4.50787 14.2869C5.71824 15.3163 7.28658 15.9375 9 15.9375C12.8315 15.9375 15.9375 12.8315 15.9375 9C15.9375 7.28662 15.3164 5.71832 14.287 4.50797C14.2824 4.51296 14.2776 4.51789 14.2727 4.52276L4.52276 14.2726C4.51786 14.2775 4.5129 14.2823 4.50787 14.2869Z"
                            fill="#4A6D97" />
                    </svg>
                    <span>Expired</span>
                </span>
                }
                @default {
                <span class="badge-gray">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M5.95317 0.9375H6.04679C7.55709 0.937488 8.74903 0.937479 9.6172 1.05195C10.4705 1.16445 11.2372 1.41239 11.6014 2.11939C11.6538 2.22125 11.6981 2.32711 11.7338 2.43596C11.9822 3.19419 11.6146 3.9104 11.0909 4.58827C10.5584 5.27763 9.71518 6.11258 8.64769 7.16968L6.79939 9L8.64769 10.8303C9.71519 11.8874 10.5584 12.7224 11.0909 13.4117C11.6146 14.0896 11.9822 14.8058 11.7338 15.564C11.6981 15.6729 11.6538 15.7787 11.6014 15.8806C11.2372 16.5876 10.4705 16.8355 9.6172 16.9481C8.74903 17.0625 7.55708 17.0625 6.04678 17.0625H5.95318C4.44288 17.0625 3.25093 17.0625 2.38275 16.9481C1.52944 16.8355 0.762726 16.5876 0.398595 15.8806C0.346133 15.7787 0.301852 15.6729 0.266183 15.564C0.0177354 14.8058 0.3854 14.0896 0.909063 13.4117C1.4416 12.7224 2.28477 11.8874 3.35227 10.8303L5.20057 9L3.35227 7.16968C2.28477 6.11258 1.4416 5.27763 0.909063 4.58827C0.3854 3.9104 0.0177353 3.1942 0.266183 2.43597C0.301852 2.32711 0.346132 2.22126 0.398595 2.11939C0.762726 1.41239 1.52944 1.16445 2.38275 1.05195C3.25092 0.937479 4.44287 0.937488 5.95317 0.9375ZM5.99998 8.20836L7.82245 6.40361C8.9309 5.30595 9.7195 4.52329 10.2006 3.90051C10.6962 3.25901 10.7231 2.96439 10.6647 2.78627C10.6476 2.73415 10.6264 2.6834 10.6012 2.6345C10.5137 2.46456 10.2796 2.27402 9.47015 2.16729C8.68447 2.0637 7.56725 2.0625 5.99998 2.0625C4.43271 2.0625 3.31549 2.0637 2.52981 2.16729C1.72033 2.27402 1.48627 2.46456 1.39874 2.6345C1.37355 2.6834 1.35233 2.73415 1.33525 2.78627C1.27689 2.96439 1.30378 3.25901 1.79935 3.90051C2.28046 4.52329 3.06906 5.30595 4.17751 6.40362L5.99998 8.20836ZM5.99998 9.79164L4.1775 11.5964C3.06906 12.694 2.28046 13.4767 1.79935 14.0995C1.30378 14.741 1.27689 15.0356 1.33525 15.2137C1.35233 15.2659 1.37355 15.3166 1.39874 15.3655C1.48627 15.5354 1.72033 15.726 2.52981 15.8327C3.31549 15.9363 4.43271 15.9375 5.99998 15.9375C7.56725 15.9375 8.68447 15.9363 9.47015 15.8327C10.2796 15.726 10.5137 15.5354 10.6012 15.3655C10.6264 15.3166 10.6476 15.2659 10.6647 15.2137C10.7231 15.0356 10.6962 14.741 10.2006 14.0995C9.7195 13.4767 8.93089 12.694 7.82245 11.5964L5.99998 9.79164ZM3.93748 4.125C3.93748 3.81434 4.18932 3.5625 4.49998 3.5625H7.49998C7.81064 3.5625 8.06248 3.81434 8.06248 4.125C8.06248 4.43566 7.81064 4.6875 7.49998 4.6875H4.49998C4.18932 4.6875 3.93748 4.43566 3.93748 4.125ZM3.93748 13.875C3.93748 13.5643 4.18932 13.3125 4.49998 13.3125H7.49998C7.81064 13.3125 8.06248 13.5643 8.06248 13.875C8.06248 14.1857 7.81064 14.4375 7.49998 14.4375H4.49998C4.18932 14.4375 3.93748 14.1857 3.93748 13.875Z"
                            fill="#4A6D97" />
                    </svg>
                    <span>Upcoming</span>
                </span>
                }
                }
            </td>

            <td>
                <div class="d-flex align-items-center gap-3">
                    @if(delegation.status === 'Accepted' || delegation.status === 'Pending'){
                    <!-- Edit icon-only button -->
                    <!-- [routerLink]="['/delegation/edit', delegation.id]" -->
                    <a (click)="navigateToEdit(delegation.id)" class="edit-btn" title="Edit">
                        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_2505_23400)">
                                <g clip-path="url(#clip1_2505_23400)">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M8.95697 0.9375L10.125 0.9375C10.4357 0.9375 10.6875 1.18934 10.6875 1.5C10.6875 1.81066 10.4357 2.0625 10.125 2.0625H9C7.21633 2.0625 5.93517 2.06369 4.96018 2.19478C4.00138 2.32369 3.42334 2.56886 2.9961 2.9961C2.56886 3.42334 2.32369 4.00138 2.19478 4.96018C2.06369 5.93517 2.0625 7.21633 2.0625 9C2.0625 10.7837 2.06369 12.0648 2.19478 13.0398C2.32369 13.9986 2.56886 14.5767 2.9961 15.0039C3.42334 15.4311 4.00138 15.6763 4.96018 15.8052C5.93517 15.9363 7.21633 15.9375 9 15.9375C10.7837 15.9375 12.0648 15.9363 13.0398 15.8052C13.9986 15.6763 14.5767 15.4311 15.0039 15.0039C15.4311 14.5767 15.6763 13.9986 15.8052 13.0398C15.9363 12.0648 15.9375 10.7837 15.9375 9V7.875C15.9375 7.56434 16.1893 7.3125 16.5 7.3125C16.8107 7.3125 17.0625 7.56434 17.0625 7.875V9.04303C17.0625 10.7743 17.0625 12.1311 16.9202 13.1897C16.7745 14.2733 16.4705 15.1283 15.7994 15.7994C15.1283 16.4705 14.2733 16.7745 13.1897 16.9202C12.1311 17.0625 10.7743 17.0625 9.04303 17.0625H8.95697C7.22567 17.0625 5.8689 17.0625 4.81028 16.9202C3.72673 16.7745 2.87171 16.4705 2.2006 15.7994C1.5295 15.1283 1.22549 14.2733 1.07981 13.1897C0.937483 12.1311 0.937491 10.7743 0.9375 9.04303V8.95697C0.937491 7.22567 0.937483 5.86889 1.07981 4.81028C1.22549 3.72673 1.5295 2.87171 2.2006 2.2006C2.87171 1.5295 3.72673 1.22549 4.81028 1.07981C5.86889 0.937483 7.22567 0.937491 8.95697 0.9375ZM12.5779 1.70694C13.6038 0.681022 15.2671 0.681022 16.2931 1.70694C17.319 2.73285 17.319 4.39619 16.2931 5.4221L11.307 10.4082C11.0285 10.6867 10.8541 10.8611 10.6594 11.013C10.4302 11.1918 10.1821 11.3451 9.91961 11.4702C9.69676 11.5764 9.46271 11.6544 9.08909 11.7789L6.9107 12.505C6.50851 12.6391 6.0651 12.5344 5.76533 12.2347C5.46556 11.9349 5.36089 11.4915 5.49495 11.0893L6.22108 8.91092C6.34559 8.53729 6.42359 8.30324 6.5298 8.08039C6.65489 7.81791 6.80821 7.56984 6.98703 7.34056C7.13887 7.1459 7.31333 6.97147 7.59183 6.693L12.5779 1.70694ZM15.4976 2.50243C14.911 1.91586 13.96 1.91586 13.3734 2.50243L13.0909 2.7849C13.108 2.85679 13.1318 2.94245 13.1649 3.038C13.2724 3.34779 13.4758 3.75579 13.86 4.14C14.2442 4.5242 14.6522 4.7276 14.962 4.83508C15.0575 4.86823 15.1432 4.89205 15.2151 4.90907L15.4976 4.62661C16.0841 4.04003 16.0841 3.08901 15.4976 2.50243ZM14.3289 5.79532C13.9419 5.6289 13.4911 5.36209 13.0645 4.93549C12.6379 4.50889 12.3711 4.05812 12.2047 3.67114L8.41313 7.46269C8.10075 7.77508 7.97823 7.89897 7.87411 8.03246C7.74553 8.19731 7.6353 8.37567 7.54536 8.56439C7.47252 8.71722 7.41651 8.8822 7.2768 9.30131L6.95288 10.2731L7.72693 11.0471L8.69869 10.7232C9.1178 10.5835 9.28278 10.5275 9.43561 10.4546C9.62433 10.3647 9.80269 10.2545 9.96754 10.1259C10.101 10.0218 10.2249 9.89926 10.5373 9.58687L14.3289 5.79532Z"
                                        fill="#4A6D97" />
                                </g>
                            </g>
                            <defs>
                                <clipPath id="clip0_2505_23400">
                                    <rect width="18" height="18" fill="white" />
                                </clipPath>
                                <clipPath id="clip1_2505_23400">
                                    <rect width="18" height="18" fill="white" />
                                </clipPath>
                            </defs>
                        </svg>

                    </a>
                    <!-- Delete icon-only button -->
                    <button type="button" class="remove-btn" (click)="openDeleteConfirm(delegation.id)" title="Cancel">
                        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M7.52272 6.72724C7.30305 6.50757 6.9469 6.50757 6.72723 6.72724C6.50756 6.94691 6.50756 7.30307 6.72723 7.52274L8.20449 9L6.72725 10.4772C6.50758 10.6969 6.50758 11.0531 6.72725 11.2727C6.94692 11.4924 7.30307 11.4924 7.52274 11.2727L8.99998 9.79549L10.4772 11.2727C10.6969 11.4924 11.053 11.4924 11.2727 11.2727C11.4924 11.0531 11.4924 10.6969 11.2727 10.4772L9.79548 9L11.2727 7.52275C11.4924 7.30308 11.4924 6.94693 11.2727 6.72726C11.0531 6.50759 10.6969 6.50759 10.4772 6.72726L8.99998 8.2045L7.52272 6.72724Z"
                                fill="#E04F5F" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M9 0.9375C4.5472 0.9375 0.9375 4.5472 0.9375 9C0.9375 13.4528 4.5472 17.0625 9 17.0625C13.4528 17.0625 17.0625 13.4528 17.0625 9C17.0625 4.5472 13.4528 0.9375 9 0.9375ZM2.0625 9C2.0625 5.16852 5.16852 2.0625 9 2.0625C12.8315 2.0625 15.9375 5.16852 15.9375 9C15.9375 12.8315 12.8315 15.9375 9 15.9375C5.16852 15.9375 2.0625 12.8315 2.0625 9Z"
                                fill="#E04F5F" />
                        </svg>
                    </button>
                    }

                </div>
            </td>
        </ng-template>

        <ng-template #noDelegations>
            <tr>
                <td colspan="6" class="no-data py-4">
                    @if (searchTerm.trim() || filterForm.dirty) {
                    No delegations match your search.
                    } @else {
                    No delegations added yet.
                    }
                </td>
            </tr>
        </ng-template>
    </div>
</div>

<!-- filter popup -->
<app-overlay-filter-box #filterBox [title]="'Filters'">
    <form [formGroup]="filterForm" (ngSubmit)="applyFilters()" class="w-100 d-flex flex-column gap-3">
        <div class="input">
            <label for="status">Status</label>
            <div class="d-flex align-items-center gap-4">
                <div class="form-outline w-100 position-relative custom-date-wrapper">
                    <select formControlName="status" name="" id="status" class="form-select">
                        <option value="" selected disabled hidden>Select</option>
                        <option [value]="0">Any</option>
                        <option [value]="1">Pending</option>
                        <option [value]="2">Accepted</option>
                        <option [value]="3">Rejected</option>
                        <option [value]="4">Cancelled</option>
                        <option [value]="5">Expired</option>
                    </select>
                </div>
                @if(!filterForm.get('status')?.value){
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <path fill="#e04f5f"
                        d="M10.03 8.97a.75.75 0 0 0-1.06 1.06L10.94 12l-1.97 1.97a.75.75 0 1 0 1.06 1.06L12 13.06l1.97 1.97a.75.75 0 0 0 1.06-1.06L13.06 12l1.97-1.97a.75.75 0 1 0-1.06-1.06L12 10.94z" />
                    <path fill="#e04f5f" fill-rule="evenodd"
                        d="M12 1.25C6.063 1.25 1.25 6.063 1.25 12S6.063 22.75 12 22.75S22.75 17.937 22.75 12S17.937 1.25 12 1.25M2.75 12a9.25 9.25 0 1 1 18.5 0a9.25 9.25 0 0 1-18.5 0"
                        clip-rule="evenodd" />
                </svg>
                }@else{
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <g fill="none" stroke="#3f9870" stroke-width="1.5">
                        <circle cx="12" cy="12" r="10" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="m8.5 12.5l2 2l5-5" />
                    </g>
                </svg>
                }


            </div>
        </div>

        <div class="input">
            <label for="fromDate">Created From</label>
            <div class="d-flex align-items-center gap-4">
                <div class="form-outline w-100 position-relative custom-date-wrapper">
                    <input formControlName="start_date" type="date" id="fromDate" class="form-control custom-date-input"
                        placeholder="Min-Max" />
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                        <g fill="none" stroke-width="1.5">
                            <path stroke-linecap="round"
                                d="M22 14v-2c0-3.771 0-5.657-1.172-6.828S17.771 4 14 4h-4C6.229 4 4.343 4 3.172 5.172S2 8.229 2 12v2c0 3.771 0 5.657 1.172 6.828S6.229 22 10 22h4M7 4V2.5M17 4V2.5" />
                            <circle cx="18" cy="18" r="3" />
                            <path stroke-linecap="round" d="M20.5 20.5L22 22M2.5 9h19" />
                        </g>
                    </svg>
                </div>
                @if (!filterForm.get('start_date')?.value) {
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <path fill="#e04f5f"
                        d="M10.03 8.97a.75.75 0 0 0-1.06 1.06L10.94 12l-1.97 1.97a.75.75 0 1 0 1.06 1.06L12 13.06l1.97 1.97a.75.75 0 0 0 1.06-1.06L13.06 12l1.97-1.97a.75.75 0 1 0-1.06-1.06L12 10.94z" />
                    <path fill="#e04f5f" fill-rule="evenodd"
                        d="M12 1.25C6.063 1.25 1.25 6.063 1.25 12S6.063 22.75 12 22.75S22.75 17.937 22.75 12S17.937 1.25 12 1.25M2.75 12a9.25 9.25 0 1 1 18.5 0a9.25 9.25 0 0 1-18.5 0"
                        clip-rule="evenodd" />
                </svg>
                }@else{
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <g fill="none" stroke="#3f9870" stroke-width="1.5">
                        <circle cx="12" cy="12" r="10" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="m8.5 12.5l2 2l5-5" />
                    </g>
                </svg>
                }


            </div>
        </div>

        <div class="d-flex align-items-center gap-3">
            <button type="submit" class="btn btn-lg btn-primary w-100">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <g fill="none" stroke-width="1.5">
                        <circle cx="12" cy="12" r="10" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="m8.5 12.5l2 2l5-5" />
                    </g>
                </svg>
                <span>Apply Filter</span>
            </button>
            <a (click)="resetFilterForm()" class="text-danger-dark fw-bold w-100 text-center">
                <span>Clear Filters</span>
            </a>
        </div>
    </form>
</app-overlay-filter-box>

<!-- delete confirmation popup -->

<app-popup [title]="'Cancel Delegation'" [paragraph1]="'Are you sure you want to cancel this delegation?'"
    [isOpen]="deleteOpen" (close)="closeDeleteConfirm()">
    <button modal-btn-left class="btn btn-lg btn-danger w-100" (click)="confirmCancel()" [disabled]="loading">
        Confirm
    </button>
    <button modal-btn-right class="btn btn-lg btn-outline-dark border-0 w-100" (click)="closeDeleteConfirm()">
        Cancel
    </button>
</app-popup>